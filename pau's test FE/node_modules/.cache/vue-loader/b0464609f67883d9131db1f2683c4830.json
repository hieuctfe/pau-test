{"remainingRequest":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/src/layouts/partials/search.vue?vue&type=style&index=0&id=375c6676&lang=scss&scoped=true&","dependencies":[{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/src/layouts/partials/search.vue","mtime":1555054946746},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/sass-loader/lib/loader.js","mtime":1533139052000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import 'src/assets/scss/static/variables';\n.app-header-search{\n    width: 100%;\n    padding-top: 10px;\n    position: relative;\n    .form-search{\n        min-height: 50px;\n        display: flex;\n        flex-wrap: nowrap;\n        flex-direction: row;\n        &-input{\n            width: calc(100% - 250px);\n            background: #fff;\n            border-bottom-left-radius: 25px;\n            border-top-left-radius: 25px;\n            overflow: hidden;\n            display: block;\n            position: relative;\n            padding: 6px 15px;\n            .form-control{\n                border-radius: 0;\n                border: none;\n                padding: 0 ;\n                line-height: 36px;\n                &:focus{\n                    outline: none;\n                    box-shadow: none;\n                }\n            }\n            &:after{\n                content: '';\n                position: absolute;\n                top: 20%;\n                right: 0;\n                width: 2px;\n                bottom: 20%;\n                background: $yellow;\n            }\n        }\n        &-dropdown{\n            white-space: nowrap;\n            background: #fff;\n            padding: 6px 0px;\n            line-height: 36px;\n            height: auto;\n            text-overflow: ellipsis;\n            width: 175px;\n            .form-group-select{\n                padding: 0 10px;\n                label{\n                    color:$text-color;\n                    margin: 0;\n                    padding-right: 5px;\n                    max-width: 150px;\n                    overflow: hidden;\n                    display: block;\n                    white-space: nowrap;\n                    text-overflow: ellipsis;\n                }\n                select{\n                    opacity: 0;\n                    position: absolute;\n                    width: 100%;\n                    right: 0;\n                    left: 0;\n                    top: 0;\n                }\n            }\n        }\n        &-action{\n            width: 75px;\n            border-bottom-right-radius: 25px;\n            border-top-right-radius: 25px;\n            overflow: hidden;\n            background: #fff;\n            button{\n                color:#fff;\n                display: flex;\n                height: 100%;\n                width: 100%;\n                align-items: center;\n                justify-content: center;\n                border-radius: 0;\n                padding: 0;\n                font-size: 20px;\n                &:hover{\n                    color:#fff;\n                }\n            }\n        }\n    }\n    &-result{\n        background: #fff;\n        border: 1px solid #ccc;\n        box-shadow: 0 5px 10px rgba(0,0,0,0.19), 0 3px 3px rgba(0,0,0,0.23);\n        margin-top: 15px;\n        border-radius: 10px;\n        width: 100%;\n        transition: all 0.3s ease;\n        overflow: hidden auto;\n        position: absolute;\n        top:100%;\n        left: 0;\n        right: 0;\n        z-index: 100;\n        color:$text-color;\n        &.is-active{\n            opacity: 1;\n            visibility: visible;\n            transform: none;\n        }\n        .search{\n            &-head{\n                padding: 20px 30px;\n                box-shadow:  0 0 6px #ccc;\n                strong{\n                    font-size: 16px;\n                    text-transform: uppercase;\n                    font-weight: 500;\n                }\n            }\n            &-body{\n                padding: 5px 10px;\n                .list-products{\n                    .item{\n                        padding: 10px 30px;\n                        display: flex;\n                        flex-direction: row;\n                        flex-wrap: wrap;\n                        &.is-selected{\n                            background: #ccc;\n                        }\n                        &-image{\n                            width: 70px;\n                            height: 70px;\n                            overflow: hidden;\n                            display: flex;\n                            align-items: center;\n                            justify-content: center;\n                            img{\n                                max-width: 100%;\n                                max-height: 100%;\n                                width: 100%;\n                                border-radius: 10px;\n                                border: 3px solid transparent;\n                            }\n                            &:hover{\n                                img{\n                                    border-color: $yellow;\n                                }\n                            }\n                        }\n                        &-title{\n                            color:$text-color;\n                            font-size: 14px;\n                            font-weight: 500;\n                            // text-transform: uppercase;\n                            white-space: nowrap;\n                            text-overflow: ellipsis;\n                            overflow: hidden;\n                            display: block;\n                            text-decoration: none;\n                            &:hover{\n                                color:$yellow;\n                                text-decoration: underline;\n                            }\n                        }\n                        &-supplier{\n                            font-size: 12px;\n                            span{\n                                display: inline-block;\n                                margin-right: 5px;\n                            }\n                            a{\n                                color:$yellow;\n                                font-weight: 500;\n                                text-decoration: none;\n                                &:hover{\n                                    text-decoration: underline;\n                                }\n                            }\n                        }\n                        &-content{\n                            width: calc(100% - 70px);\n                            // padding: 0px 15px;\n                            padding-left: 15px;\n                        }\n                        &-price{\n                            width: 100%;\n                            display: flex;\n                            flex-direction: row;\n                            align-items: center;\n                            justify-content: flex-start;\n                            span{\n                                // padding: 6px 15px;\n                                // background: #F2F2F2;\n                                // display: inline-block;\n                                // border-radius: 21px;\n                                font-size: 20px;\n                                font-weight: 500;\n                            }\n                        }\n                    }\n                }\n            }\n            &-foot{\n                text-align: center;\n                padding: 5px 15px;\n                button{\n                    color: $yellow;\n                }\n            }\n        }\n    }\n}\n.search {\n\n    &-leave-active,\n    &-enter-active {\n        transition: all .5s;\n    }\n\n    &-enter {\n        opacity: 0;\n        transform: translateY(15px);\n    }\n\n    &-leave-to {\n        opacity: 0;\n        transform: translateY(-15px);\n    }\n}\n",{"version":3,"sources":["search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"search.vue","sourceRoot":"src/layouts/partials","sourcesContent":["<template>\n    <div class=\"app-header-search\" v-on-clickaway=\"clickOutside\">\n        <form class=\"form-search\" @submit.stop.prevent=\"onSubmit()\">\n            <div class=\"form-search-input\">\n                <input type=\"text\"  v-model.trim=\"form.keyword\" @keydown=\"onKeyDown\" ref=\"input\"  class=\"form-control\">\n            </div>\n            <div class=\"form-search-dropdown\">\n                <div class=\"form-group-select\">\n                    <label for=\"header_search_collection\">{{selectedCollection}}</label>\n                    <select @change=\"onChange()\" v-model=\"form.collection_id\">\n                        <option value=\"all\">All Collections</option>\n                        <option v-for=\"(item , index) in collections\" :key=\"`collection_${index}`\" :value=\"item.id\">{{item.title}}</option>\n                    </select>\n                </div>\n            </div>\n            <div class=\"form-search-action\">\n                <button class=\"btn btn-warning\">\n                    <i class=\"fas fa-search\"></i>\n                </button>\n            </div>\n        </form>\n        <transition name=\"search\" mode=\"out-in\">\n            <div class=\"app-header-search-result\" v-if=\"products.length && $route.name != 'Search'\">\n                <div class=\"search-body\">\n                    <transition-group name=\"fade-transform\" mode=\"out-in\" class=\"list-products\">\n                        <div class=\"item\" v-for=\"(item , index) in products\" :key=\"`product_${index}`\" @click=\"selectItem(index)\" :class=\"{ 'is-selected' : index == activeItemIndex}\">\n                            <a class=\"item-image\">\n                                <img v-if=\"item.image\" :src=\"item.image\" alt=\"\">\n                                <img v-else src=\"@/assets/images/default/product.png\" alt=\"\">\n                            </a>\n                            <div class=\"item-content\">\n                                <div class=\"item-title\" :title=\"item.title\">\n                                    {{item.title}}\n                                </div>\n                                <div class=\"item-supplier\">\n                                    <span>By</span>\n                                    <a>{{item.shop_name}}</a>\n                                </div>\n                                <div class=\"item-price\">\n                                    <span>\n                                        <template v-if=\"item.price_min != item.price_max\">\n                                            {{ item.price_min | number_format }}$ - {{ item.price_max | number_format}}$\n                                        </template>\n                                        <template v-else>\n                                            {{ item.price_max | number_format}}$\n                                        </template>\n                                    </span>\n                                </div>\n                            </div>\n\n                        </div>\n                    </transition-group>\n                </div>\n                <div class=\"search-foot\">\n                    <button class=\"btn btn-link\">\n                        View all results\n                    </button>\n                </div>\n            </div>\n        </transition>\n    </div>\n</template>\n<script>\nimport {mapGetters} from 'vuex'\nimport { setTimeout } from 'timers';\nexport default {\n    name : 'HeaderSearch',\n    data(){\n        return {\n            form :{\n                keyword : '',\n                collection_id : 'all'\n            },\n            loading : false,\n            products : [],\n            activeItemIndex: -1,\n            timeout : null\n        }\n    },\n    computed:{\n        ...mapGetters({\n            collections : '$_Home/getCollections'\n        }),\n        selectedCollection(){\n            if( this.form.collection_id == 'all'){\n                return 'All Collections'\n            }else{\n                var item = _.find(this.collections , { id : this.form.collection_id})\n                return item == undefined ? '' : item.title\n            }\n        }\n    },\n    methods:{\n        selectCollection(item){\n            this.selected = 'Collection  Collection' + item;\n        },\n        onSubmit(){\n            this.products = []\n            this.redirect({\n                name : 'Search',\n                query : {\n                    keyword : this.form.keyword,\n                    collection_id : this.form.collection_id\n                }\n            })\n        },\n        loadListProduct(){\n            if( this.loading ) return;\n            this.loading = true\n            this.$store.dispatch('SEARCH_PRODUCT_HEADER' , this.form ).then((res)=>{\n                this.loading = false\n                let { status , data , is_more } = res\n                if( status ){\n                    this.is_more = is_more\n                    this.products = data\n                }\n            })\n        },\n        clickOutside(){\n            if( this.products.length ){\n                this.products = []\n            }\n        },\n        onKeyDown(e){\n            switch (e.keyCode) {\n\t\t\t\tcase 40:\n\t\t\t\t\tthis.highlightItem('down')\n\t\t\t\t\te.preventDefault()\n\t\t\t\t\tbreak\n\t\t\t\tcase 38:\n\t\t\t\t\tthis.highlightItem('up')\n\t\t\t\t\te.preventDefault()\n\t\t\t\t\tbreak\n                case 13:\n                    clearTimeout(this.timeout)\n                    if( this.activeItemIndex >= 0){\n                        this.selectItem(this.activeItemIndex)\n                    }else{\n                        this.onSubmit()\n                    }\n\t\t\t\t\te.preventDefault()\n\t\t\t\t\tbreak\n\t\t\t\tcase 27:\n\t\t\t\t\tthis.showItems = false\n\t\t\t\t\te.preventDefault()\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\treturn true\n\t\t\t}\n        },\n        highlightItem(direction) {\n\t\t\tif (this.products.length === 0) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tlet selectedIndex = this.products.findIndex((item, index) => {\n\t\t\t\treturn index === this.activeItemIndex\n\t\t\t})\n\t\t\tif (selectedIndex === -1) {\n\t\t\t\tif (direction === 'down') {\n\t\t\t\t\tselectedIndex = 0\n\t\t\t\t} else {\n\t\t\t\t\tselectedIndex = this.products.length - 1\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.activeIndexItem = 0\n\t\t\t\tif (direction === 'down') {\n\t\t\t\t\tselectedIndex++\n\t\t\t\t\tif (selectedIndex === this.products.length) {\n\t\t\t\t\t\tselectedIndex = 0\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tselectedIndex--\n\t\t\t\t\tif (selectedIndex < 0) {\n\t\t\t\t\t\tselectedIndex = this.products.length - 1\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.activeItemIndex = selectedIndex\n\t\t},\n\t\tselectItem(index) {\n            if( this.products.length > index){\n                this.redirect({\n                    name : 'ProductDetail',\n                    params :{\n                        id : `${this.products[index].handle}-${this.products[index].id}`\n                    }\n                })\n                this.products = []\n                this.$refs.input.blur()\n            }\n        },\n        onChange(){\n            if( this.$route.name== 'Search'){\n                this.onSubmit()\n            }\n        }\n    },\n    watch : {\n        products : function(value){\n            this.activeItemIndex = -1\n        },\n    },\n    created(){\n        if( this.$route.name == 'Search'){\n            var collection_id = this.$route.query.collection_id ? this.$route.query.collection_id : null\n            if( collection_id ){\n                var item = _.find(this.collections , { id : collection_id })\n                if( item ){\n                    this.form.collection_id = collection_id\n                }\n            }\n            this.form.keyword = this.$route.query.keyword ? this.$route.query.keyword : ''\n        }\n    },\n    mounted(){\n        this.$watch('form.keyword' , (value)=>{\n            this.products = []\n            clearTimeout(this.timeout)\n            if( value.length >= 2 && this.$route.name != 'Search'){\n                this.timeout = setTimeout(()=>{\n                   this.loadListProduct();\n                }, 500)\n            }\n        })\n    },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n    @import 'src/assets/scss/static/variables';\n    .app-header-search{\n        width: 100%;\n        padding-top: 10px;\n        position: relative;\n        .form-search{\n            min-height: 50px;\n            display: flex;\n            flex-wrap: nowrap;\n            flex-direction: row;\n            &-input{\n                width: calc(100% - 250px);\n                background: #fff;\n                border-bottom-left-radius: 25px;\n                border-top-left-radius: 25px;\n                overflow: hidden;\n                display: block;\n                position: relative;\n                padding: 6px 15px;\n                .form-control{\n                    border-radius: 0;\n                    border: none;\n                    padding: 0 ;\n                    line-height: 36px;\n                    &:focus{\n                        outline: none;\n                        box-shadow: none;\n                    }\n                }\n                &:after{\n                    content: '';\n                    position: absolute;\n                    top: 20%;\n                    right: 0;\n                    width: 2px;\n                    bottom: 20%;\n                    background: $yellow;\n                }\n            }\n            &-dropdown{\n                white-space: nowrap;\n                background: #fff;\n                padding: 6px 0px;\n                line-height: 36px;\n                height: auto;\n                text-overflow: ellipsis;\n                width: 175px;\n                .form-group-select{\n                    padding: 0 10px;\n                    label{\n                        color:$text-color;\n                        margin: 0;\n                        padding-right: 5px;\n                        max-width: 150px;\n                        overflow: hidden;\n                        display: block;\n                        white-space: nowrap;\n                        text-overflow: ellipsis;\n                    }\n                    select{\n                        opacity: 0;\n                        position: absolute;\n                        width: 100%;\n                        right: 0;\n                        left: 0;\n                        top: 0;\n                    }\n                }\n            }\n            &-action{\n                width: 75px;\n                border-bottom-right-radius: 25px;\n                border-top-right-radius: 25px;\n                overflow: hidden;\n                background: #fff;\n                button{\n                    color:#fff;\n                    display: flex;\n                    height: 100%;\n                    width: 100%;\n                    align-items: center;\n                    justify-content: center;\n                    border-radius: 0;\n                    padding: 0;\n                    font-size: 20px;\n                    &:hover{\n                        color:#fff;\n                    }\n                }\n            }\n        }\n        &-result{\n            background: #fff;\n            border: 1px solid #ccc;\n            box-shadow: 0 5px 10px rgba(0,0,0,0.19), 0 3px 3px rgba(0,0,0,0.23);\n            margin-top: 15px;\n            border-radius: 10px;\n            width: 100%;\n            transition: all 0.3s ease;\n            overflow: hidden auto;\n            position: absolute;\n            top:100%;\n            left: 0;\n            right: 0;\n            z-index: 100;\n            color:$text-color;\n            &.is-active{\n                opacity: 1;\n                visibility: visible;\n                transform: none;\n            }\n            .search{\n                &-head{\n                    padding: 20px 30px;\n                    box-shadow:  0 0 6px #ccc;\n                    strong{\n                        font-size: 16px;\n                        text-transform: uppercase;\n                        font-weight: 500;\n                    }\n                }\n                &-body{\n                    padding: 5px 10px;\n                    .list-products{\n                        .item{\n                            padding: 10px 30px;\n                            display: flex;\n                            flex-direction: row;\n                            flex-wrap: wrap;\n                            &.is-selected{\n                                background: #ccc;\n                            }\n                            &-image{\n                                width: 70px;\n                                height: 70px;\n                                overflow: hidden;\n                                display: flex;\n                                align-items: center;\n                                justify-content: center;\n                                img{\n                                    max-width: 100%;\n                                    max-height: 100%;\n                                    width: 100%;\n                                    border-radius: 10px;\n                                    border: 3px solid transparent;\n                                }\n                                &:hover{\n                                    img{\n                                        border-color: $yellow;\n                                    }\n                                }\n                            }\n                            &-title{\n                                color:$text-color;\n                                font-size: 14px;\n                                font-weight: 500;\n                                // text-transform: uppercase;\n                                white-space: nowrap;\n                                text-overflow: ellipsis;\n                                overflow: hidden;\n                                display: block;\n                                text-decoration: none;\n                                &:hover{\n                                    color:$yellow;\n                                    text-decoration: underline;\n                                }\n                            }\n                            &-supplier{\n                                font-size: 12px;\n                                span{\n                                    display: inline-block;\n                                    margin-right: 5px;\n                                }\n                                a{\n                                    color:$yellow;\n                                    font-weight: 500;\n                                    text-decoration: none;\n                                    &:hover{\n                                        text-decoration: underline;\n                                    }\n                                }\n                            }\n                            &-content{\n                                width: calc(100% - 70px);\n                                // padding: 0px 15px;\n                                padding-left: 15px;\n                            }\n                            &-price{\n                                width: 100%;\n                                display: flex;\n                                flex-direction: row;\n                                align-items: center;\n                                justify-content: flex-start;\n                                span{\n                                    // padding: 6px 15px;\n                                    // background: #F2F2F2;\n                                    // display: inline-block;\n                                    // border-radius: 21px;\n                                    font-size: 20px;\n                                    font-weight: 500;\n                                }\n                            }\n                        }\n                    }\n                }\n                &-foot{\n                    text-align: center;\n                    padding: 5px 15px;\n                    button{\n                        color: $yellow;\n                    }\n                }\n            }\n        }\n    }\n    .search {\n\n        &-leave-active,\n        &-enter-active {\n            transition: all .5s;\n        }\n\n        &-enter {\n            opacity: 0;\n            transform: translateY(15px);\n        }\n\n        &-leave-to {\n            opacity: 0;\n            transform: translateY(-15px);\n        }\n    }\n</style>\n"]}]}