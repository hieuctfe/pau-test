{"remainingRequest":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/src/modules/home/_components/collection/index.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/src/modules/home/_components/collection/index.vue","mtime":1552636082793},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/sass-loader/lib/loader.js","mtime":1533139052000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import 'src/assets/style';\n.app-home-page {\n    padding: 30px 0;\n    .col-sidebar {\n        max-width: 270px;\n    }\n    .col-content {\n        max-width: calc(100% - 270px);\n        .product-filter-tab-container {\n            margin-bottom: 30px;\n            width: 100%;\n            display: flex;\n            .filter-button-container {\n                flex: 1;\n                text-align: right;\n                display: block;\n                .nav-item {\n                    display: inline-block;\n                    &.nav-item-special{\n                        a{\n                            color:$yellow;\n                            &.active{\n                                background: $yellow;\n                                color:#fff;\n                            }\n                        }\n                    }\n                }\n                span , a{\n                    color: $black;\n                    text-transform: capitalize;\n                    cursor: pointer;\n                    &:focus{\n                        box-shadow: 0 0 0 0.2rem rgba(255, 176, 17 , 0.25);\n                    }\n                    &.active {\n                        border: 1px solid $yellow;\n                    }\n                }\n            }\n        }\n    }\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/modules/home/_components/collection","sourcesContent":["<template>\n\t<div class=\"app-home-collection\">\n        <div class=\"product-filter-tab-container\">\n            <ul class=\"nav filter-button-container\">\n                <li class=\"nav-item\" >\n                    <router-link  class=\"btn btn-radius-border\" :to=\"setRouterLink( { name : 'sort' , value : 'last'})\" :class=\"{ 'active' : sort == 'last' }\">\n                        Last\n                    </router-link>\n                </li>\n                <li class=\"nav-item\" >\n                    <router-link  class=\"btn btn-radius-border\" :to=\"setRouterLink( { name : 'sort' , value : 'trending'})\" :class=\"{ 'active' : sort == 'trending' }\">\n                        Trending\n                    </router-link>\n                </li>\n                <li class=\"nav-item\" >\n                    <router-link  class=\"btn btn-radius-border\" :to=\"setRouterLink( { name : 'sort' , value : 'price'})\" :class=\"{ 'active' : sort == 'price' }\">\n                        Price\n                    </router-link>\n                </li>\n                <li class=\"nav-item nav-item-special\" >\n                    <router-link  class=\"btn btn-radius-border\" :to=\"setRouterLink( { name : 'premium' , value : !is_premium })\" :class=\"{ 'active' : is_premium  }\">\n                        <i class=\"fas fa-star\"></i>Premium\n                    </router-link>\n                </li>\n            </ul>\n        </div>\n        <transition :css=\"false\" @before-enter=\"fadeBeforeEnter\" @enter=\"fadeEnter\" @leave=\"fadeLeave\" mode=\"out-in\">\n            <div class=\"row\" v-if=\"isLoading\" key=\"list-product-loading\">\n                <div class=\"col col-12\">\n                    loading\n                </div>\n            </div>\n            <div  v-else key=\"list-product-ready\">\n                <template v-if=\"products.length\">\n                    <transition-group tag=\"div\" class=\"row\" :css=\"false\" @before-enter=\"fadeBeforeEnter\" @enter=\"fadeEnter\" @leave=\"fadeLeave\" mode=\"out-in\">\n                        <div class=\"col col-md-4 col-lg-3 m-b-30\" v-for=\"(item , index) in products\" :key=\"`product_index_${index}`\">\n                            <product :product-info=\"item\"></product>\n                        </div>\n                    </transition-group>\n                    <div class=\"row\" v-if=\"is_more\">\n                        <div class=\"col col-12 text-center\" >\n                            <button type=\"button\" class=\"btn btn-light btn-load-more\" @click.stop.prevent=\"loadMoreProduct()\">\n                                <i v-if=\"isLoadingMore\" class=\"icon-loading\"></i>\n                                <span v-else >\n                                    Load more\n                                </span>\n                            </button>\n                        </div>\n                    </div>\n                </template>\n                <template v-else>\n                    <div class=\"row\">\n                        <div class=\"col col-12 \">\n                            data not found\n                        </div>\n                    </div>\n                </template>\n            </div>\n        </transition>\n        <recentProduct></recentProduct>\n    </div>\n</template>\n<script>\n    import product from '../collection/product'\n    import ProductFilterTab from '../collection/product-filter-tab'\n    import recentProduct from '../collection/recent-product'\n    import { mapGetters } from 'vuex';\n    export default{\n        name : 'Collections',\n        components: {\n            ProductFilterTab, product, recentProduct\n        },\n        data: () => {\n            return {\n                isLoading: false,\n                sort: 'last',\n                sortables : ['last' ,'trending' ,'price'],\n                current_page:  1,\n                is_premium: false,\n                collection_id : '',\n                products : [],\n                is_more : false,\n                default_sort : 'last',\n                isLoadingMore : false\n            }\n        },\n        computed: {\n            ...mapGetters({\n                collections : '$_Home/getCollections'\n            })\n        },\n        methods: {\n            loadMoreProduct : async function(){\n                this.current_page++;\n                this.isLoadingMore = true\n                this.getProduct({});\n\n                this.$nextTick(()=>{\n                    this.isLoadingMore = false\n                })\n            },\n            getProduct({collection_id = null}){\n                if( collection_id ){\n                    this.collection_id = collection_id\n                }\n                return new Promise((resolve , reject )=>{\n                    this.$store.dispatch('$_Home/GET_LIST_PRODUCTS' , {\n                        collection_id : this.collection_id ,\n                        sort : this.sort,\n                        premium : this.is_premium,\n                        current_page : this.current_page\n                    }).then(res=>{\n                        let { status , data , is_more } = res\n                        if( status ){\n                            if( this.current_page == 1){\n                                this.products = data\n                            }else{\n                                this.products = this.products.concat(data)\n                            }\n                            this.is_more = is_more\n                        }\n\n                    })\n                    resolve()\n                })\n            },\n            setRouterLink({name , value}){\n                var query = JSON.parse(JSON.stringify(this.$route.query))\n                if( typeof value == 'boolean'){\n                    query[name] = value ? 1 : 0\n                }else{\n                    query[name] = value\n                }\n                return this.setRouterLinkDefault( {query : query} )\n            }\n        },\n        watch : {\n\n        },\n        beforeRouteUpdate : async function(to, from, next) {\n            if( to.name == 'Collection' || to.name == 'Collections'){\n                this.isLoading = true\n                var collection_id = this.getSlugId(to.params.id)\n                var sort = to.query.sort  == undefined ? '' : to.query.sort\n                this.sort = this.sortables.indexOf(sort) >= 0 ? sort : this.default_sort\n                var premium = to.query.premium  == undefined ? 0 : to.query.premium\n                this.is_premium =  premium == 1 ? true : false\n                this.current_page = 1\n                await this.getProduct({collection_id : collection_id})\n                this.isLoading = false\n            }\n            next()\n        },\n        created : async function(){\n            this.isLoading = true\n            var to = this.$route\n            var collection_id = this.getSlugId(to.params.id)\n            var findIndex = _.findIndex(this.collections , { id : collection_id})\n            if( findIndex >= 0 ){\n                var more = findIndex >= 10 ? true : false\n                this.$store.commit('$_Home/UPDATE_SIDEBAR_OPTION' , { collection_id : '' , more : more})\n            }else{\n                for (let index = 0; index < this.collections.length; index++) {\n                    const collection = this.collections[index]\n                    var child = _.find( collection.childs , {id : collection_id})\n                    if( child ){\n                        var more = index >= 10 ? true : false\n                        this.$store.commit('$_Home/UPDATE_SIDEBAR_OPTION' , { collection_id : child.parent_id , more : more})\n                        break\n                    }\n                }\n            }\n            var sort = to.query.sort  == undefined ? '' : to.query.sort\n            this.sort = this.sortables.indexOf(sort) >= 0 ? sort : this.default_sort\n            var premium = to.query.premium  == undefined ? 0 : to.query.premium\n            this.is_premium =  premium == 1 ? true : false\n            this.current_page = 1\n            await this.getProduct({collection_id : collection_id})\n            this.isLoading = false\n        }\n    }\n</script>\n\n<style lang=\"scss\">\n    @import 'src/assets/style';\n    .app-home-page {\n        padding: 30px 0;\n        .col-sidebar {\n            max-width: 270px;\n        }\n        .col-content {\n            max-width: calc(100% - 270px);\n            .product-filter-tab-container {\n                margin-bottom: 30px;\n                width: 100%;\n                display: flex;\n                .filter-button-container {\n                    flex: 1;\n                    text-align: right;\n                    display: block;\n                    .nav-item {\n                        display: inline-block;\n                        &.nav-item-special{\n                            a{\n                                color:$yellow;\n                                &.active{\n                                    background: $yellow;\n                                    color:#fff;\n                                }\n                            }\n                        }\n                    }\n                    span , a{\n                        color: $black;\n                        text-transform: capitalize;\n                        cursor: pointer;\n                        &:focus{\n                            box-shadow: 0 0 0 0.2rem rgba(255, 176, 17 , 0.25);\n                        }\n                        &.active {\n                            border: 1px solid $yellow;\n                        }\n                    }\n                }\n            }\n        }\n    }\n</style>\n"]}]}