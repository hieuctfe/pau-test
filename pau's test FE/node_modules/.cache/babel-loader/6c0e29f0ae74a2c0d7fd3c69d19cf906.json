{"remainingRequest":"/Volumes/Document/Pau's test/pau's test FE/node_modules/babel-loader/lib/index.js!/Volumes/Document/Pau's test/pau's test FE/src/modules/home/_mixins/product-detail.js","dependencies":[{"path":"/Volumes/Document/Pau's test/pau's test FE/src/modules/home/_mixins/product-detail.js","mtime":1553581797010},{"path":"/Volumes/Document/Pau's test/pau's test FE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Document/Pau's test/pau's test FE/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.find-index\";\nimport _parseInt from \"/Volumes/Document/Pau's test/pau's test FE/node_modules/@babel/runtime-corejs2/core-js/parse-int\";\nimport helper from '@/plugins/helper';\nexport default {\n  data: function data() {\n    return {\n      activeSlide: 0,\n      carousel: {\n        perPage: 5,\n        navigationEnabled: true,\n        paginationEnabled: false,\n        navigationPrevLabel: '<i class=\"fal fa-angle-left\"></i>',\n        navigationNextLabel: '<i class=\"fal fa-angle-right\"></i>'\n      },\n      form: {\n        properties: [],\n        option: {}\n      }\n    };\n  },\n  methods: {\n    onClickSlide: function onClickSlide(dataset) {\n      this.activeSlide = _parseInt(dataset.index);\n    },\n    selectOption: function selectOption(option, value, image) {\n      if (this.form.option.hasOwnProperty(option)) {\n        this.$set(this.form.option, option, value);\n      }\n\n      if (image && image.id) {\n        var index = _.findIndex(this.data.images, {\n          id: image.id\n        });\n\n        if (index >= 0) {\n          this.activeSlide = index;\n        }\n      }\n    },\n    activeOption: function activeOption(_ref) {\n      var option = _ref.option,\n          value = _ref.value;\n      return this.form.option[option] == value;\n    },\n    initDataProduct: function initDataProduct(product) {\n      var _this = this;\n\n      var properties = [];\n\n      if (this.data) {\n        var listWarehouses = this.data.warehouses;\n        var warehouses = [];\n\n        for (var i = 1; i <= 3; i++) {\n          var option_name = \"option\".concat(i);\n\n          if (this.data[option_name]) {\n            var option = [];\n            this.data.variants.forEach(function (item) {\n              if (item[option_name]) {\n                var img = '';\n\n                if (option_name == 'option1') {\n                  if (item.product_image_id) {\n                    img = _.find(_this.data.images, {\n                      id: item.product_image_id\n                    });\n                  }\n\n                  if (item.warehouse_id) {\n                    var find = _.find(warehouses, {\n                      id: item.warehouse_id\n                    });\n\n                    if (find == undefined) {\n                      var warehouse = _.find(listWarehouses, {\n                        id: item.warehouse_id\n                      });\n\n                      warehouses.push({\n                        id: item.warehouse_id,\n                        name: warehouse.country_name\n                      });\n                    }\n                  }\n                }\n\n                var find = _.find(option, {\n                  name: item[option_name]\n                });\n\n                if (find == undefined) {\n                  option.push({\n                    id: item[option_name],\n                    name: item[option_name],\n                    image: img\n                  });\n                }\n              }\n            });\n\n            if (option.length) {\n              properties.push({\n                id: option_name,\n                name: this.data[option_name],\n                data: option\n              });\n              this.$set(this.form.option, option_name, '');\n            }\n          }\n        }\n\n        properties.push({\n          id: 'warehouse_id',\n          name: 'warehouse',\n          data: warehouses\n        });\n        this.$set(this.form.option, 'warehouse_id', '');\n      }\n\n      this.form.properties = properties;\n    }\n  },\n  computed: {\n    activeImage: function activeImage() {\n      var src = null;\n\n      if (this.data) {\n        if (this.data.images.length && this.data.images.length >= this.activeSlide) {\n          src = this.data.images[this.activeSlide].src;\n        }\n      }\n\n      return src;\n    },\n    selectedProduct: function selectedProduct() {\n      var _this2 = this;\n\n      var price = '',\n          is_selected = false,\n          inventory = null;\n\n      if (this.data) {\n        var is_select = true;\n\n        for (var key in this.form.option) {\n          if (this.form.option.hasOwnProperty(key)) {\n            if (this.form.option[key] == '') {\n              is_select = false;\n              break;\n            }\n          }\n        }\n\n        if (!is_select) {\n          if (this.data.price_min == this.data.price_max) {\n            price = \"\".concat(helper.numberFormat(this.data.price_max), \"$\");\n          } else {\n            price = \"\".concat(helper.numberFormat(this.data.price_min), \"$ - \").concat(helper.numberFormat(this.data.price_max), \"$\");\n          }\n        } else {\n          var is_find = null;\n          this.data.variants.forEach(function (item) {\n            if (is_find == null) {\n              var is_valid = true;\n\n              for (var _key in _this2.form.option) {\n                if (_this2.form.option.hasOwnProperty(_key)) {\n                  if (_this2.form.option[_key] != item[_key]) {\n                    is_valid = false;\n                    break;\n                  }\n                }\n              }\n\n              if (is_valid) {\n                is_find = item;\n              }\n            }\n          });\n\n          if (is_find) {\n            var num = helper.isInterger(is_find.price) ? _parseInt(is_find.price) : is_find.price;\n            price = \"\".concat(helper.numberFormat(num), \"$\");\n            is_selected = true;\n            inventory = is_find.inventory;\n          }\n        }\n      }\n\n      return {\n        price: price,\n        is_selected: is_selected,\n        inventory: inventory\n      };\n    }\n  },\n  watch: {\n    data: function data(value) {\n      if (value) {\n        this.initDataProduct(value);\n      }\n    }\n  }\n};",{"version":3,"sources":["/Volumes/Document/Pau's test/pau's test FE/src/modules/home/_mixins/product-detail.js"],"names":["helper","data","activeSlide","carousel","perPage","navigationEnabled","paginationEnabled","navigationPrevLabel","navigationNextLabel","form","properties","option","methods","onClickSlide","dataset","index","selectOption","value","image","hasOwnProperty","$set","id","_","findIndex","images","activeOption","initDataProduct","product","listWarehouses","warehouses","i","option_name","variants","forEach","item","img","product_image_id","find","warehouse_id","undefined","warehouse","push","name","country_name","length","computed","activeImage","src","selectedProduct","price","is_selected","inventory","is_select","key","price_min","price_max","numberFormat","is_find","is_valid","num","isInterger","watch"],"mappings":"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","sourcesContent":["import helper from '@/plugins/helper'\nexport default { \n    data(){\n        return{\n            activeSlide : 0,\n            carousel :{\n                perPage: 5,\n                navigationEnabled: true,\n                paginationEnabled: false,\n                navigationPrevLabel : '<i class=\"fal fa-angle-left\"></i>',\n                navigationNextLabel: '<i class=\"fal fa-angle-right\"></i>',\n            },\n            form : {\n                properties : [],\n                option : {}\n            }\n        }\n    },\n    methods:{\n        onClickSlide(dataset){\n            this.activeSlide = parseInt(dataset.index)\n        },\n        selectOption(option , value, image){\n            if( this.form.option.hasOwnProperty(option) ){\n                this.$set(this.form.option , option , value)\n            }\n            if( image && image.id){\n                var index = _.findIndex( this.data.images , { id : image.id})\n                if( index >= 0){\n                    this.activeSlide = index;\n                }\n            }\n        },\n        activeOption({option , value}){\n            return this.form.option[option] == value \n        },\n        initDataProduct(product){\n            var properties = []\n            if( this.data ){\n                var listWarehouses = this.data.warehouses\n                var warehouses= []\n                for (let i = 1; i <= 3; i++) {\n                    var option_name = `option${i}`\n                    if( this.data[option_name] ){\n                        var option =[]\n                        this.data.variants.forEach((item)=>{\n                            if( item[option_name] ){\n                                var img = '';\n                                if( option_name == 'option1'){\n                                    if( item.product_image_id  ){\n                                        img = _.find(this.data.images , { id : item.product_image_id})\n                                    }\n                                    if( item.warehouse_id ){\n                                        var find = _.find(warehouses , { id : item.warehouse_id})\n                                        if( find == undefined){\n                                            var warehouse = _.find(listWarehouses ,  { id : item.warehouse_id} )\n                                            warehouses.push({\n                                                id : item.warehouse_id,\n                                                name : warehouse.country_name,\n                                            })\n                                        }\n                                    }\n                                }\n                                var find = _.find(option , { name : item[option_name]})\n                                if(  find == undefined){\n                                    option.push({\n                                        id : item[option_name],\n                                        name : item[option_name],\n                                        image : img,\n                                    })\n                                }\n                                \n                            }\n                        })\n                        if( option.length ){\n                            properties.push({\n                                id : option_name,\n                                name : this.data[option_name],\n                                data : option\n                            })\n                            this.$set(this.form.option , option_name , '')\n                        }\n                    }\n                }\n                properties.push({\n                    id : 'warehouse_id',\n                    name : 'warehouse',\n                    data : warehouses\n                })\n                this.$set(this.form.option , 'warehouse_id' , '')\n            }\n            this.form.properties = properties;\n        },\n    },\n    computed:{\n        activeImage(){\n            var src = null \n            if( this.data ){\n                if( this.data.images.length &&  this.data.images.length >= this.activeSlide ){\n                    src = this.data.images[this.activeSlide].src\n                }\n            }\n            return src\n        },\n        selectedProduct(){\n            var price = '' , is_selected = false , inventory = null\n            if( this.data ){\n                var is_select = true\n                for (const key in this.form.option) {\n                    if (this.form.option.hasOwnProperty(key)) {\n                        if( this.form.option[key] == ''){\n                            is_select = false\n                            break\n                        }\n                    }\n                }\n                if( !is_select ){\n                    if( this.data.price_min == this.data.price_max) {\n                        price = `${helper.numberFormat(this.data.price_max)}$`\n                    }else{\n                        price = `${helper.numberFormat(this.data.price_min)}$ - ${helper.numberFormat(this.data.price_max)}$`\n                    }\n                }else{\n                    var is_find = null;\n                    this.data.variants.forEach(item=>{\n                        if( is_find == null){\n                            var is_valid = true\n                            for (const key in this.form.option) {\n                                if (this.form.option.hasOwnProperty(key)) {\n                                    if( this.form.option[key] != item[key]){\n                                        is_valid = false\n                                        break\n                                    }\n                                }\n                            }\n                            if( is_valid ){\n                                is_find = item\n                            }\n                        }\n                    })\n                    if( is_find ){\n                        var num =  helper.isInterger(is_find.price) ? parseInt(is_find.price) : is_find.price \n                        price = `${helper.numberFormat(num)}$`\n                        is_selected = true\n                        inventory = is_find.inventory\n                    }\n                }\n            }\n            return {\n                price : price,\n                is_selected : is_selected ,\n                inventory : inventory\n            }\n        }\n    },\n    watch :{\n        data : function(value){\n            if( value ){\n                this.initDataProduct(value)\n            }\n        }\n    },\n}"]}]}