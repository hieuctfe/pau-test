{"remainingRequest":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/src/modules/seller/_components/category.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/src/modules/seller/_components/category.vue","mtime":1553078250148},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {mapActions} from 'vuex'\n\nexport default {\n    name: \"category\",\n    props: [\"selected\", \"button_content\"],\n    data() {\n        return {\n            data: [],\n            current_selected: [],\n            is_selected: true,\n        }\n    },\n    methods: {\n        ...mapActions({\n            getSellerCategory: '$_Seller/getSellerCategory',\n            updateFavoriteCollection: '$_Seller/UPDATE_FAVORITE_COLLECTION',\n            getSellerFavoriteCategory: '$_Seller/GET_FAVORITE_CATEGORY',\n        }),\n        changeTab: function (item, event) {\n            let parent = $(event.target).parent('.category-item')\n            if (parent.hasClass('active')) {\n                parent.removeClass('active')\n            } else {\n                parent.addClass('active')\n                this.is_selected = true\n            }\n            item.favorite = !item.favorite\n        },\n        saveFavoriteCategory: function () {\n            let currentSelected = this.data.filter(function (el) {\n                return el.favorite\n            }).map(function (el) {\n                return el.id\n            })\n            if (currentSelected.length > 0) {\n                this.updateFavoriteCollection(currentSelected).then(res => {\n                    if (res.data.status) {\n                        this.$emit('change_category', currentSelected)\n                        $notify({\n                            content: \"Save success\",\n                            type: \"success\"\n                        })\n                    }\n                })\n            } else {\n                this.is_selected = false\n                $notify({\n                    content: \"You must choose at least one category\",\n                    type: \"danger\"\n                })\n            }\n        }\n    },\n    created: function () {\n        let that = this;\n        this.getSellerCategory().then(function (res) {\n            that.data = res.data.data\n            that.getSellerFavoriteCategory().then(function (res) {\n                console.log(res.data);\n                if (res.data.status) {\n                    that.data = that.data.map(function (el) {\n                        el.favorite = res.data.data.includes(el.id)\n                        return el\n                    })\n                }\n            })\n        })\n    }\n}\n",{"version":3,"sources":["category.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"category.vue","sourceRoot":"src/modules/seller/_components","sourcesContent":["<template>\n    <div class=\"category-container\">\n        <div class=\"category-list m-b-25\" :class=\"{'not-selected': !is_selected}\">\n            <ul class=\"row\">\n                <li class=\"col col-md-4\" v-for=\"item in data\">\n                    <div class=\"category-item\" :class=\"{'active': item.favorite}\"\n                         @click=\"changeTab(item, $event)\">\n                        <img v-if=\"item.feature_image\" :src=\"item.feature_image\" alt=\"\">\n                        <img v-if=\"!item.feature_image\" src=\"../../../assets/images/default/product.png\" alt=\"\">\n                        <span>{{item.title}}</span>\n                    </div>\n                </li>\n            </ul>\n        </div>\n        <div class=\"category-action\">\n            <button v-if=\"button_content\" @click=\"saveFavoriteCategory\" class=\"save-category btn btn-warning btn-radius-border\">\n                {{button_content}}\n            </button>\n            <button v-else @click=\"saveFavoriteCategory\" class=\"save-category btn btn-warning btn-radius-border\">\n                Save\n            </button>\n        </div>\n    </div>\n</template>\n\n<script>\n    import {mapActions} from 'vuex'\n\n    export default {\n        name: \"category\",\n        props: [\"selected\", \"button_content\"],\n        data() {\n            return {\n                data: [],\n                current_selected: [],\n                is_selected: true,\n            }\n        },\n        methods: {\n            ...mapActions({\n                getSellerCategory: '$_Seller/getSellerCategory',\n                updateFavoriteCollection: '$_Seller/UPDATE_FAVORITE_COLLECTION',\n                getSellerFavoriteCategory: '$_Seller/GET_FAVORITE_CATEGORY',\n            }),\n            changeTab: function (item, event) {\n                let parent = $(event.target).parent('.category-item')\n                if (parent.hasClass('active')) {\n                    parent.removeClass('active')\n                } else {\n                    parent.addClass('active')\n                    this.is_selected = true\n                }\n                item.favorite = !item.favorite\n            },\n            saveFavoriteCategory: function () {\n                let currentSelected = this.data.filter(function (el) {\n                    return el.favorite\n                }).map(function (el) {\n                    return el.id\n                })\n                if (currentSelected.length > 0) {\n                    this.updateFavoriteCollection(currentSelected).then(res => {\n                        if (res.data.status) {\n                            this.$emit('change_category', currentSelected)\n                            $notify({\n                                content: \"Save success\",\n                                type: \"success\"\n                            })\n                        }\n                    })\n                } else {\n                    this.is_selected = false\n                    $notify({\n                        content: \"You must choose at least one category\",\n                        type: \"danger\"\n                    })\n                }\n            }\n        },\n        created: function () {\n            let that = this;\n            this.getSellerCategory().then(function (res) {\n                that.data = res.data.data\n                that.getSellerFavoriteCategory().then(function (res) {\n                    console.log(res.data);\n                    if (res.data.status) {\n                        that.data = that.data.map(function (el) {\n                            el.favorite = res.data.data.includes(el.id)\n                            return el\n                        })\n                    }\n                })\n            })\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n    @import 'src/assets/style';\n\n    .category-container {\n        .category-list {\n            background: #DCDCDC;\n            padding: 24px;\n            max-height: 510px;\n            overflow-y: scroll;\n            transition: all .4s;\n            &.not-selected {\n                border: solid 2px red;\n            }\n            ul {\n                padding: 0px;\n                list-style-type: none;\n                li {\n                    margin-top: 15px;\n                    margin-bottom: 15px;\n\n                    .category-item {\n                        background: white;\n                        display: flex;\n                        padding: 0px;\n                        border-radius: 10px;\n                        border: solid 3px transparent;\n                        &.active.category-item {\n                            border-color: $yellow;\n                        }\n                        &:hover {\n                            cursor: pointer;\n                        }\n                        img {\n                            max-height: 122px;\n                            max-width: 122px;\n                        }\n                        span {\n                            /*width: 60%;*/\n                            display: flex;\n                            justify-content: center;\n                            flex-direction: column;\n                            text-align: center;\n                            flex: 1;\n                            vertical-align: middle;\n                            padding: 10px;\n                        }\n                    }\n                }\n            }\n        }\n\n        .category-action {\n            .save-category {\n                min-width: 150px;\n                color: white\n            }\n        }\n    }\n</style>\n"]}]}