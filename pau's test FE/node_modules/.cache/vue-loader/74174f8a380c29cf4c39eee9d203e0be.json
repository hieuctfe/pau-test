{"remainingRequest":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/src/modules/seller/_components/choosingplan.vue?vue&type=style&index=0&id=c97cf7d4&lang=scss&scoped=true&","dependencies":[{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/src/modules/seller/_components/choosingplan.vue","mtime":1555498768536},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/sass-loader/lib/loader.js","mtime":1533139052000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.plan-description {\n    font-size: 35px;\n}\n\n",{"version":3,"sources":["choosingplan.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;AACA;AACA","file":"choosingplan.vue","sourceRoot":"src/modules/seller/_components","sourcesContent":["<template>\n    <div>\n        <div class=\"plan-description m-b-40\"><span>Your acccount has been verified. Please select your plan</span></div>\n        <div>\n            <pricing @choose_plan=\"choosePlan\" :isNotAuto=\"true\"></pricing>\n        </div>\n        <carddialog :isShow=\"isCardDialogShow\" @modalHide=\"isCardDialogShow=false\" @dialogConfirm=\"createCardForCustomer\"></carddialog>\n    </div>\n</template>\n\n<script>\n    import pricing from './pricing'\n    import carddialog from './card-dialog'\n    import {mapActions} from 'vuex'\n\n    export default {\n        name: \"choosingplan\",\n        components: {\n            pricing,carddialog\n        },\n        data() {\n            return {\n                selected: \"\",\n                isCardDialogShow: false\n            }\n        },\n        methods: {\n            ...mapActions({\n                sellerChoosingPlan: \"$_Seller/SELLER_CHOOSING_PLAN\",\n                createCustomer: \"$_Seller/CREATE_CUSTOMER\",\n            }),\n            choosePlan(plan) {\n                // this.isCardDialogShow = true\n                // // alert(plan)\n                this.selected = plan\n                this.sellerChoosingPlan(plan).then(res => {\n                    if (res.data.status) {\n                        this.$router.push({name: 'AddShoptifyStore'})\n                    } else {\n                        this.isCardDialogShow = true\n                    }\n                })\n            },\n            createCardForCustomer(cardInfo) {\n                let democart = {\n                    \"card_no\": cardInfo.card_no.replace(/\\W/gi, ''),\n                    \"ccExpiryMonth\": cardInfo.expire_date.split('/')[0],\n                    \"ccExpiryYear\": cardInfo.expire_date.split('/')[1],\n                    \"cvvNumber\": cardInfo.secure_code,\n                    \"plan_id\": this.selected\n                }\n                console.log(democart);\n                this.isCardDialogShow = false\n                this.createCustomer(democart).then(res => {\n                    if (res.data.status) {\n                        this.$router.push({name: 'AddShoptifyStore'})\n                    } else {\n                        this.isCardDialogShow = true\n                        let {status, data, message} = res.data\n                        // let message = data.message\n                        let lvmessage = data.message\n                        for (let mess in lvmessage) {\n                            console.log(mess);\n                            $notify({\n                                content: mess[0],\n                                type: \"danger\"\n                            })\n                        }\n                    }\n                })\n            }\n        },\n        created: function () {\n            // load user info and current, dose add credit card\n            // this.selected = 'free'\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n    .plan-description {\n        font-size: 35px;\n    }\n\n</style>\n"]}]}