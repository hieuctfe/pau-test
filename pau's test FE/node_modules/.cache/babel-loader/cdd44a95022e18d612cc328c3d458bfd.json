{"remainingRequest":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/babel-loader/lib/index.js!/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/src/modules/home/_components/partials/list-product-filter.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/src/modules/home/_components/partials/list-product-filter.vue","mtime":1553581797009},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport ListProducts from './list-products';\nimport ProductLoading from './product-loading';\nexport default {\n  name: 'ListProductFilter',\n  props: {\n    productId: {\n      type: String\n    },\n    mode: {\n      required: true,\n      type: String\n    },\n    limit: {\n      type: Number,\n      default: 8\n    },\n    title: {\n      type: String,\n      default: ''\n    },\n    tab: {\n      type: Array\n    },\n    col: {\n      type: String,\n      default: 'col col-20 m-b-20'\n    }\n  },\n  components: {\n    ListProducts: ListProducts,\n    ProductLoading: ProductLoading\n  },\n  data: function data() {\n    return {\n      isLoading: false,\n      products: [],\n      activeTab: 0\n    };\n  },\n  methods: {\n    getFilter: function getFilter() {\n      if (this.mode == 'tab') {\n        if (this.tab.length && this.tab.length >= this.activeTab) {\n          var index = this.activeTab;\n          var filter = {\n            collection_id: this.tab[index].id,\n            limit: this.limit\n          };\n          this.loadListProduct(filter);\n        }\n      } else if (this.mode == 'recent') {\n        var ids = this.getLocalStore('lr');\n        ids = ids == undefined ? [] : ids;\n\n        if (ids.length >= this.limit) {\n          ids = _.takeRight(ids, 5);\n        }\n\n        if (ids.length) {\n          this.loadProductByIds(ids);\n        }\n      }\n    },\n    loadListProduct: function loadListProduct(filter) {\n      var _this = this;\n\n      this.isLoading = true;\n      this.$store.dispatch('$_Home/GET_LIST_PRODUCTS', filter).then(function (res) {\n        _this.isLoading = false;\n        var status = res.status,\n            data = res.data;\n\n        if (status) {\n          _this.products = data;\n        }\n      });\n    },\n    loadProductByIds: function loadProductByIds(ids) {\n      var _this2 = this;\n\n      this.isLoading = true;\n      this.$store.dispatch('$_Home/GET_RECENT_PRODUCT', ids).then(function (res) {\n        _this2.isLoading = false;\n        var _res$data = res.data,\n            status = _res$data.status,\n            data = _res$data.data;\n\n        if (status) {\n          _this2.products = data;\n        }\n      });\n    },\n    changeTab: function changeTab(index) {\n      if (this.activeTab != index) {\n        this.activeTab = index;\n        this.getFilter();\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.getFilter();\n  }\n};",{"version":3,"sources":["list-product-filter.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"app-list-product-filter\">\n        <div class=\"app-list-product-filter-header\" :class=\"{ 'is-mode-tab' : mode == 'tab'}\">\n            <div class=\"app-list-product-filter-title\">\n                <h3 >{{title}}</h3>\n            </div>\n            <div class=\"app-list-product-filter-tab\" v-if=\"mode == 'tab'\">\n                <ul class=\"nav filter-button-container\">\n                    <li class=\"nav-item\" v-for=\"(item , index) in tab\" :key=\"`tab_${index}`\" >\n                        <button class=\"btn btn-radius-border\" @click.stop.prevent=\"changeTab(index)\" :class=\"{'active' : index == activeTab}\">\n                            {{item.title}}\n                        </button>\n                    </li>\n                </ul>\n            </div>\n        </div>\n        \n        <transition name=\"fade\" mode=\"out-in\">\n            <div class=\"app-list-product-filter-content\" v-if=\"isLoading\" key=\"is-loading\">\n                <product-loading :limit=\"limit\" :col=\"col\"></product-loading>\n            </div>\n            <div class=\"app-list-product-filter-content\" v-else key=\"is-loaded\">\n                <div v-if=\"products.length\">\n                    <list-products :products=\"products\" :col=\"col\" ></list-products>\n                </div>\n                <div v-else>\n                    empty product\n                </div>\n            </div>\n        </transition>\n    </div>\n</template>\n<script>\nimport ListProducts from './list-products'\nimport ProductLoading from './product-loading'\nexport default {\n    name : 'ListProductFilter',\n    props : {\n        productId :{\n            type :String\n        },\n        mode : {\n            required : true,\n            type : String\n        },\n        limit :{\n            type : Number,\n            default : 8\n        },\n        title : {\n            type : String,\n            default : ''\n        },\n        tab : {\n            type : Array,\n        },\n        col : {\n            type : String,\n            default : 'col col-20 m-b-20'\n        }\n    },\n    components: {\n        ListProducts , ProductLoading\n    },\n    data(){\n        return {\n            isLoading : false,\n            products : [],\n            activeTab : 0,\n        }\n    },\n    methods:{\n        getFilter(){\n            if( this.mode == 'tab' ){\n                if(  this.tab.length  &&  this.tab.length >= this.activeTab ){\n                    var index = this.activeTab\n                    var filter = {\n                        collection_id : this.tab[index].id,\n                        limit : this.limit,\n                    }\n                    this.loadListProduct(filter)\n                }\n            }else if( this.mode == 'recent'){\n                let ids = this.getLocalStore('lr')\n                ids = ids == undefined ? [] : ids\n                if (ids.length >= this.limit)  {\n                    ids = _.takeRight(ids, 5)\n                }\n                if( ids.length ){\n                    this.loadProductByIds(ids)\n                }\n            }\n        },\n        loadListProduct(filter){\n            this.isLoading = true\n            this.$store.dispatch('$_Home/GET_LIST_PRODUCTS' , filter).then( res=>{\n                this.isLoading = false\n                let { status , data } = res \n                if( status ){\n                    this.products = data\n                }\n            })\n        },\n        loadProductByIds(ids){\n            this.isLoading = true\n            this.$store.dispatch('$_Home/GET_RECENT_PRODUCT' , ids).then( res=>{\n                this.isLoading = false\n                let { status , data } = res.data\n                if( status ){\n                    this.products = data\n                }\n            })\n        },\n        changeTab(index){\n            if( this.activeTab != index){\n                this.activeTab = index\n                this.getFilter()\n            }\n        }\n    },\n    mounted(){\n        this.getFilter()\n    }\n}\n</script>\n<style lang=\"scss\" scoped>\n    @import 'src/assets/style';\n    .app-list-product-filter{\n        &-header{\n            display: flex;\n            flex-direction: row;\n            flex-basis: nowrap;\n            margin-bottom: 20px;\n            height: 45px;\n            border-bottom:1px solid #eee;\n        }\n        &-title{\n            flex: 1 1 ;\n            position: relative;\n            h3, h4{\n                line-height: 45px;\n                margin: 0;\n                font-size: 18px;\n                text-transform: capitalize;\n                color:$text-color;\n                line-height: 45px;\n                position: relative;\n                display: inline-block;\n                &:before{\n                    content : '';\n                    height: 3px;\n                    width: calc(100% + 30px);\n                    position: absolute;\n                    bottom: -1px;\n                    left: 0;\n                    background: $yellow;\n                }\n            }\n        }\n        &-tab{\n            flex : 1 1;\n        }\n        .filter-button-container{\n            flex: 1;\n            text-align: right;\n            display: block;\n            .nav-item {\n                display: inline-flex;\n                margin-left: 2px;\n                margin-right: 2px;\n            }\n            span , a , button{\n                color: $black;\n                text-transform: capitalize;\n                cursor: pointer;\n                min-width: 90px;\n                &:focus{\n                    box-shadow: 0 0 0 0.2rem rgba(255, 176, 17 , 0.25);\n                }\n                &.active {\n                    border: 1px solid $yellow;\n                }\n            }\n        }\n    }\n</style>\n"],"sourceRoot":"src/modules/home/_components/partials"}]}