{"remainingRequest":"/Volumes/Document/Pau's test/pau's test FE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Document/Pau's test/pau's test FE/src/modules/home/_components/partials/product.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/Document/Pau's test/pau's test FE/src/modules/home/_components/partials/product.vue","mtime":1554975161255},{"path":"/Volumes/Document/Pau's test/pau's test FE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Document/Pau's test/pau's test FE/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/Document/Pau's test/pau's test FE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Document/Pau's test/pau's test FE/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {mapActions, mapGetters} from 'vuex'\n\nexport default {\n    name: \"Product\",\n    props: {\n        ProductInfo: {\n            type: Object,\n            required: true,\n        }\n    },\n    data() {\n        return {\n            isLoading: false\n        }\n    },\n    methods: {\n        ...mapActions({\n            callImportProduct: \"$_Home/IMPORT_PRODUCT\",\n            removeImportedProduct: \"$_Home/REMOVE_IMPORTED_PRODUCT\",\n        }),\n        ...mapGetters({\n            seller: '$_Seller/getSeller',\n        }),\n        importProduct(product, event) {\n            // console.log(product);\n            if (this.seller()) {\n                let id = product.id\n                let target = $(event.target)\n                this.isLoading = true\n                let defaultShop = this.seller().shops.filter(function (el, idx) {\n                    return el.shop_default == 1\n                });\n                let temp = {\n                    \"product_id\": id,\n                    \"shop_id\": defaultShop[0].id\n                }\n                this.callImportProduct(temp).then(res => {\n                    if (res.data.status) {\n                        this.ProductInfo.isImported = true\n                    } else {\n                        $notify({\n                            content: 'import product fail',\n                            type: 'danger'\n                        })\n                    }\n                    this.isLoading = false\n                })\n            } else {\n                this.$router.push({\n                    name: \"Login\"\n                })\n            }\n        },\n        removeImported(product) {\n            let id = product.id\n            let target = $(event.target)\n            this.isLoading = true\n            let defaultShop = this.seller().shops.filter(function (el, idx) {\n                return el.shop_default == 1\n            });\n            let temp = {\n                \"product_id\": id,\n                \"shop_id\": defaultShop[0].id\n            }\n            this.removeImportedProduct(temp).then(res => {\n                if (res.data.status) {\n                    this.ProductInfo.isImported = false\n                } else {\n                    $notify({\n                        content: 'Remove Imported Product fail',\n                        type: 'danger'\n                    })\n                }\n                this.isLoading = false\n            })\n        },\n        setRouterLink() {\n            return {\n                name: 'ProductDetail',\n                params: {\n                    id: `${this.ProductInfo.handle}-${this.ProductInfo.id}`\n                }\n            }\n        },\n        showQuickView() {\n            if (EventBus) {\n                EventBus.$emit('show-quick-view', {id: this.ProductInfo.id})\n            }\n        }\n    }\n}\n",{"version":3,"sources":["product.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"product.vue","sourceRoot":"src/modules/home/_components/partials","sourcesContent":["<template>\n    <div class=\"product-item\" itemscope>\n        <div class=\"product-item-img\">\n            <div class=\"product-image\">\n                <div class=\"product-image-box\">\n                    <template v-if=\"ProductInfo.image\">\n                        <img itemprop=\"image\" :src=\"ProductInfo.image\" :title=\"ProductInfo.title\"\n                             :alt=\"ProductInfo.image\">\n                    </template>\n                    <template v-else>\n                        <img itemprop=\"image\" src=\"@/assets/images/default/product.png\" :title=\"ProductInfo.title\"\n                             :alt=\"ProductInfo.image\">\n                    </template>\n                </div>\n            </div>\n            <div class=\"product-action\">\n                <div class=\"action-btn-container\">\n                    <span>SEE DETAIL</span>\n                    <button class=\"btn btn-outline-warning btn-radius-border btn-quick-view\"\n                            @click.stop.prevent=\"showQuickView()\">\n                        Quick view\n                    </button>\n                    <button v-if=\"!ProductInfo.isImported\" v-on:click=\"importProduct(ProductInfo, $event)\"\n                            :class=\"{'btn-importing': isLoading}\" class=\"btn black-button-style btn-radius-border\">\n                        <i class=\"icon-load fas fa-shopping-bag\"></i>\n                        <div class=\"circle-loader\">\n                            <div class=\"checkmark draw\"></div>\n                        </div>\n                        Add to Import List\n                    </button>\n                    <button v-else :class=\"{'btn-importing': isLoading}\"\n                            v-on:click=\"removeImported(ProductInfo, $event)\" class=\"btn btn-warning btn-radius-border\">\n                        <i class=\"icon-load fas fa-trash\"></i>\n                        <div class=\"circle-loader\">\n                            <div class=\"checkmark draw\"></div>\n                        </div>\n                        Remove imported\n                    </button>\n                </div>\n            </div>\n        </div>\n        <div class=\"product-item-info\">\n            <router-link class=\"product-name\" :to=\"setRouterLink()\" :title=\"ProductInfo.title\" itemprop=\"url\">\n                <h3 itemprop=\"name\" v-line-clamp:20=\"2\">{{ProductInfo.title}}</h3>\n            </router-link>\n            <div class=\"product-supplier\">\n                By <span>{{ProductInfo.shop_name}}</span>\n            </div>\n            <div class=\"product-price\" itemprop=\"offers\">\n                <template v-if=\"ProductInfo.price_min == ProductInfo.price_max\">\n                    <span itemprop=\"priceCurrency\" content=\"USD\">$</span>\n                    <span itemprop=\"price\" :content=\"ProductInfo.price_max | number_format\">{{ ProductInfo.price_max | number_format}}</span>\n                </template>\n                <template v-else>\n                    <span>\n                        <span itemprop=\"priceCurrency\" content=\"USD\">$</span>\n                        <span itemprop=\"lowPrice\" :content=\"ProductInfo.price_min | number_format\">{{ ProductInfo.price_min | number_format}}</span>\n                    </span>\n                    -\n                    <span>\n                        <span itemprop=\"priceCurrency\" content=\"USD\">$</span>\n                        <span itemprop=\"highPrice\" :content=\"ProductInfo.price_max | number_format\">{{ ProductInfo.price_max | number_format}}</span>\n                    </span>\n                </template>\n            </div>\n\n        </div>\n    </div>\n</template>\n\n<script>\n    import {mapActions, mapGetters} from 'vuex'\n\n    export default {\n        name: \"Product\",\n        props: {\n            ProductInfo: {\n                type: Object,\n                required: true,\n            }\n        },\n        data() {\n            return {\n                isLoading: false\n            }\n        },\n        methods: {\n            ...mapActions({\n                callImportProduct: \"$_Home/IMPORT_PRODUCT\",\n                removeImportedProduct: \"$_Home/REMOVE_IMPORTED_PRODUCT\",\n            }),\n            ...mapGetters({\n                seller: '$_Seller/getSeller',\n            }),\n            importProduct(product, event) {\n                // console.log(product);\n                if (this.seller()) {\n                    let id = product.id\n                    let target = $(event.target)\n                    this.isLoading = true\n                    let defaultShop = this.seller().shops.filter(function (el, idx) {\n                        return el.shop_default == 1\n                    });\n                    let temp = {\n                        \"product_id\": id,\n                        \"shop_id\": defaultShop[0].id\n                    }\n                    this.callImportProduct(temp).then(res => {\n                        if (res.data.status) {\n                            this.ProductInfo.isImported = true\n                        } else {\n                            $notify({\n                                content: 'import product fail',\n                                type: 'danger'\n                            })\n                        }\n                        this.isLoading = false\n                    })\n                } else {\n                    this.$router.push({\n                        name: \"Login\"\n                    })\n                }\n            },\n            removeImported(product) {\n                let id = product.id\n                let target = $(event.target)\n                this.isLoading = true\n                let defaultShop = this.seller().shops.filter(function (el, idx) {\n                    return el.shop_default == 1\n                });\n                let temp = {\n                    \"product_id\": id,\n                    \"shop_id\": defaultShop[0].id\n                }\n                this.removeImportedProduct(temp).then(res => {\n                    if (res.data.status) {\n                        this.ProductInfo.isImported = false\n                    } else {\n                        $notify({\n                            content: 'Remove Imported Product fail',\n                            type: 'danger'\n                        })\n                    }\n                    this.isLoading = false\n                })\n            },\n            setRouterLink() {\n                return {\n                    name: 'ProductDetail',\n                    params: {\n                        id: `${this.ProductInfo.handle}-${this.ProductInfo.id}`\n                    }\n                }\n            },\n            showQuickView() {\n                if (EventBus) {\n                    EventBus.$emit('show-quick-view', {id: this.ProductInfo.id})\n                }\n            }\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n    @import 'src/assets/style';\n\n    $border-color: #eee;\n    .product-item {\n        height: 100%;\n        width: 100%;\n        border: solid 1px $border-color;\n        // padding: 12.5px;\n        padding: 0;\n        &-img {\n            margin-bottom: 10px;\n            position: relative;\n            overflow: hidden;\n            .product-image {\n                &-box {\n                    position: absolute;\n                    top: 0;\n                    left: 0;\n                    right: 0;\n                    bottom: 0;\n                    width: 100%;\n                    height: 100%;\n                    overflow: hidden;\n                    display: flex;\n                    flex-direction: row;\n                    justify-content: center;\n                    align-items: center;\n                    padding: 10px;\n                    img {\n                        // width: 100%;\n                        max-height: 100%;\n                        max-width: 100%;\n                        overflow: hidden;\n                    }\n                }\n\n                width: 100%;\n                height: auto;\n                position: relative;\n                &:after {\n                    content: '';\n                    display: block;\n                    padding-bottom: 100%;\n                }\n            }\n            .product-action {\n                padding: 7px;\n                background: rgba(255, 255, 255, 0.6);\n                width: 100%;\n                height: 100%;\n                position: absolute;\n                top: 0px;\n                left: -100%;\n                transition: all .4s;\n                .product-sale-tag {\n                    background: $yellow;\n                    color: white;\n                    padding: 0 6px;\n                    margin-top: 8px;\n                }\n                .action-btn-container {\n                    position: relative;\n                    top: 50%;\n                    transform: translateY(-50%);\n                    vertical-align: middle;\n                    text-align: center;\n                    user-select: none;\n                    button {\n                        font-size: 13px;\n                        display: block;\n                        margin: auto;\n                        text-align: center;\n                        margin-bottom: 13px;\n                        width: 80%;\n                        max-width: 150px;\n                        white-space: nowrap;\n                        text-overflow: ellipsis;\n                        overflow: hidden;\n                        &.btn-importing {\n                            .icon-load {\n                                display: none;\n                            }\n                            .circle-loader {\n                                display: inline-block;\n                            }\n                        }\n                    }\n                    span {\n                        font-size: 25px;\n                        color: #999;\n                        font-weight: bold;\n                        text-transform: uppercase;\n                        display: inline-block;\n                    }\n                    .btn {\n                        &-quick-view {\n                            background: #fff;\n                            border: 1px solid $yellow;\n                            color: $yellow;\n                            &:hover {\n                                background: $yellow;\n                                color: #fff;\n                            }\n                        }\n                    }\n                }\n            }\n            &:hover {\n                .product-action {\n                    left: 0;\n                }\n            }\n        }\n        &-info {\n            text-align: center;\n            padding: 10px;\n            .product-name {\n                font-size: $default-font-size;\n                color: $text-color;\n                margin-bottom: 5px;\n                &:hover {\n                    color: $yellow;\n                }\n                h3 {\n                    font-size: 14px;\n                    margin: 0;\n                }\n            }\n            .product-supplier {\n                font-size: 13px;\n                color: #999;\n                span {\n                    color: $yellow;\n                }\n            }\n            .product-price {\n                font-size: 16px;\n                font-weight: bold;\n            }\n        }\n    }\n</style>\n"]}]}