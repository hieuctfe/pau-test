{"remainingRequest":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/babel-loader/lib/index.js!/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/src/router/index.js","dependencies":[{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/src/router/index.js","mtime":1554972497006},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport Vue from 'vue';\nimport store from '@/store';\nimport Router from 'vue-router';\nimport Error404 from '@/components/error-404';\nVue.use(Router);\nVue.component('router-link', Vue.options.components.RouterLink);\nVue.component('router-view', Vue.options.components.RouterView);\nvar router = new Router({\n  routes: [{\n    path: '*',\n    name: 'Error404',\n    component: Error404,\n    meta: {\n      title: '404'\n    }\n  }],\n  mode: 'history',\n  scrollBehavior: function scrollBehavior(to) {\n    if (to.hash) {\n      return window.scrollTo({\n        top: document.querySelector(to.hash).offsetTop,\n        behavior: 'smooth'\n      });\n    }\n\n    return window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  }\n});\nrouter.beforeEach(\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee(to, from, next) {\n    var isLoggedIn, seller, _seller$data, status, data, query;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            isLoggedIn = store.getters['$_Seller/isLoggedIn'];\n            store.commit('setRouter', to);\n            store.commit('setPreviousRouter', from);\n\n            if (!(to.meta.requiresAuth == false)) {\n              _context.next = 10;\n              break;\n            }\n\n            if (!isLoggedIn) {\n              _context.next = 8;\n              break;\n            }\n\n            if (!(to.meta.failback == true)) {\n              _context.next = 8;\n              break;\n            }\n\n            next('/');\n            return _context.abrupt(\"return\");\n\n          case 8:\n            _context.next = 39;\n            break;\n\n          case 10:\n            if (!to.matched.some(function (record) {\n              return record.meta.requiresAuth;\n            })) {\n              _context.next = 39;\n              break;\n            }\n\n            if (!isLoggedIn) {\n              _context.next = 37;\n              break;\n            }\n\n            _context.next = 14;\n            return store.dispatch('$_Seller/GET_USER_INFO', {});\n\n          case 14:\n            seller = _context.sent;\n\n            if (!seller) {\n              _context.next = 37;\n              break;\n            }\n\n            _seller$data = seller.data, status = _seller$data.status, data = _seller$data.data;\n            console.log(data.category_favorite);\n\n            if (!status) {\n              _context.next = 37;\n              break;\n            }\n\n            if (!(to.matched.some(function (record) {\n              return record.meta.checkPlan;\n            }) == false)) {\n              _context.next = 35;\n              break;\n            }\n\n            if (!(data.plan_name == null)) {\n              _context.next = 25;\n              break;\n            }\n\n            next({\n              name: 'SellerPlan'\n            });\n            return _context.abrupt(\"return\");\n\n          case 25:\n            if (!(data.shops.length == 0)) {\n              _context.next = 32;\n              break;\n            }\n\n            query = {};\n\n            if (to.query['install']) {\n              query = to.query;\n            }\n\n            next({\n              name: 'AddShoptifyStore',\n              query: query\n            });\n            return _context.abrupt(\"return\");\n\n          case 32:\n            if (!(data.category_favorite.names.length == 0)) {\n              _context.next = 35;\n              break;\n            }\n\n            next({\n              name: 'ChoosingFavoriteCategory'\n            });\n            return _context.abrupt(\"return\");\n\n          case 35:\n            next();\n            return _context.abrupt(\"return\");\n\n          case 37:\n            next({\n              name: 'Login'\n            });\n            return _context.abrupt(\"return\");\n\n          case 39:\n            next();\n\n          case 40:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}());\nexport default router;",{"version":3,"sources":["/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/src/router/index.js"],"names":["Vue","store","Router","Error404","use","component","options","components","RouterLink","RouterView","router","routes","path","name","meta","title","mode","scrollBehavior","to","hash","window","scrollTo","top","document","querySelector","offsetTop","behavior","beforeEach","from","next","isLoggedIn","getters","commit","requiresAuth","failback","matched","some","record","dispatch","seller","data","status","console","log","category_favorite","checkPlan","plan_name","shops","length","query","names"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport store from '@/store'\nimport Router from 'vue-router'\nimport Error404 from '@/components/error-404'\nVue.use(Router)\nVue.component('router-link', Vue.options.components.RouterLink);\nVue.component('router-view', Vue.options.components.RouterView);\nconst router =  new Router({\n\troutes: [\n\t\t{\n\t\t\tpath : '*',\n\t\t\tname : 'Error404',\n\t\t\tcomponent: Error404,\n\t\t\tmeta : {\n\t\t\t\ttitle : '404'\n\t\t\t}\n\t\t},\n\t],\n\tmode: 'history',\n\tscrollBehavior(to) {\n        if (to.hash) {\n            return window.scrollTo({ top: document.querySelector(to.hash).offsetTop, behavior: 'smooth' });\n        }\n        return window.scrollTo({ top: 0, behavior: 'smooth' });\n    }\n})\n\nrouter.beforeEach( async function (to, from, next) {\n\tvar isLoggedIn = store.getters['$_Seller/isLoggedIn']\n\tstore.commit('setRouter', to)\n\tstore.commit('setPreviousRouter', from)\n\tif( to.meta.requiresAuth  == false){\n\t\tif( isLoggedIn ){\n\t\t\tif( to.meta.failback == true ){\n\t\t\t\tnext('/')\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\t}else{\n\t\tif( to.matched.some(record => record.meta.requiresAuth) ){\n\t\t\tif( isLoggedIn) {\n\t\t\t\tvar seller = await store.dispatch('$_Seller/GET_USER_INFO', {})\n\t\t\t\tif( seller ){\n\t\t\t\t\tlet { status , data } = seller.data\n                    console.log(data.category_favorite);\n                    if( status ){\n\t\t\t\t\t\tif( to.matched.some(record => record.meta.checkPlan)  == false ){\n\t\t\t\t\t\t\tif( data.plan_name == null ){\n\t\t\t\t\t\t\t\tnext({\n\t\t\t\t\t\t\t\t\tname : 'SellerPlan'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}else if( data.shops.length == 0){\n\t\t\t\t\t\t\t\tlet query = {}\n\t\t\t\t\t\t\t\tif (to.query['install']) {\n\t\t\t\t\t\t\t\t\tquery = to.query\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tnext({\n\t\t\t\t\t\t\t\t\tname : 'AddShoptifyStore',\n\t\t\t\t\t\t\t\t\tquery: query\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}else if(data.category_favorite.names.length == 0){\n\t\t\t\t\t\t\t\tnext({\n\t\t\t\t\t\t\t\t\tname : 'ChoosingFavoriteCategory'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnext()\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tnext({name : 'Login'})\n\t\t\treturn\n\t\t}\n\t}\n\tnext()\n})\nexport default router\n"]}]}