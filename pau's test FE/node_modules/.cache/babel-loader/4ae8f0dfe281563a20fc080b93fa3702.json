{"remainingRequest":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/babel-loader/lib/index.js!/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/eslint-loader/index.js??ref--13-0!/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/src/plugins/axios.js","dependencies":[{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/src/plugins/axios.js","mtime":1552386493002},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _Object$defineProperties from \"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Promise from \"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/@babel/runtime-corejs2/core-js/promise\";\nimport Vue from 'vue';\nimport axios from \"axios\";\nimport app from '@/main';\nimport i18n from '@/lang';\nvar currentLang = i18n.locale;\nvar token = localStorage.getItem('token');\naxios.defaults.headers.post['Content-Type'] = 'application/json';\naxios.defaults.headers.common['Content-Language'] = currentLang;\n\nif (token) {\n  axios.defaults.headers.common['Authorization'] = token;\n}\n\nvar config = {\n  baseURL: process.env.VUE_APP_ROOT_API || \"\",\n  timeout: 60 * 1000,\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status <= 500;\n  }\n};\n\nvar _axios = axios.create(config);\n\n_axios.interceptors.request.use(function (config) {\n  app.$Progress.start();\n  return config;\n}, function (error) {\n  // Do something with request error\n  return _Promise.reject(error);\n});\n\n_axios.interceptors.response.use(function (response) {\n  app.$Progress.finish();\n  var res = response.data;\n\n  if (response.status === 500) {\n    $notify({\n      content: response.data.message ? response.data.message : '500',\n      type: 'danger'\n    });\n  }\n\n  if (res.status == false) {\n    if (res.data.hasOwnProperty('code') && res.data['code'] === 201) {\n      app.$store.dispatch('$_Auth/SHOW_AUTH_ERROR', res.data);\n    }\n  }\n\n  return response;\n}, function (error) {\n  // Do something with response error\n  app.$Progress.finish();\n  return _Promise.reject(error);\n});\n\nPlugin.install = function (Vue, options) {\n  Vue.axios = _axios;\n  window.axios = _axios;\n\n  _Object$defineProperties(Vue.prototype, {\n    axios: {\n      get: function get() {\n        return _axios;\n      }\n    },\n    $axios: {\n      get: function get() {\n        return _axios;\n      }\n    }\n  });\n};\n\nVue.use(Plugin);\nexport default Plugin;",{"version":3,"sources":["/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/src/plugins/axios.js"],"names":["Vue","axios","app","i18n","currentLang","locale","token","localStorage","getItem","defaults","headers","post","common","config","baseURL","process","env","VUE_APP_ROOT_API","timeout","validateStatus","status","_axios","create","interceptors","request","use","$Progress","start","error","reject","response","finish","res","data","$notify","content","message","type","hasOwnProperty","$store","dispatch","Plugin","install","options","window","prototype","get","$axios"],"mappings":"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","sourcesContent":["import Vue from 'vue';\nimport axios from \"axios\";\nimport app from '@/main'\nimport i18n from '@/lang';\n\nconst currentLang = i18n.locale\nconst token = localStorage.getItem('token')\naxios.defaults.headers.post['Content-Type'] = 'application/json'\naxios.defaults.headers.common['Content-Language'] = currentLang\nif( token ){\n\taxios.defaults.headers.common['Authorization'] = token\n}\n\nlet config = {\n\tbaseURL: process.env.VUE_APP_ROOT_API || \"\",\n\ttimeout: 60 * 1000,\n\tvalidateStatus: function (status) {\n\t\treturn status >= 200 && status <= 500; \n\t},\n};\n\nconst _axios = axios.create(config);\n\n_axios.interceptors.request.use(\n\tfunction (config) {\n\t\tapp.$Progress.start();\n\t\treturn config;\n\t},\n\tfunction (error) {\n\t\t// Do something with request error\n\t\treturn Promise.reject(error);\n\t}\n);\n\n_axios.interceptors.response.use(\n\tfunction (response) {\n\t\tapp.$Progress.finish();\n\t\tlet res = response.data;\n\t\tif( response.status === 500 ){\n\t\t\t$notify({\n\t\t\t\tcontent : response.data.message ? response.data.message : '500',\n\t\t\t\ttype : 'danger'\n\t\t\t})\n\t\t}\n\t\tif( res.status == false){\n\t\t\tif(res.data.hasOwnProperty('code') && res.data['code'] === 201 ){\n\t\t\t\tapp.$store.dispatch('$_Auth/SHOW_AUTH_ERROR' , res.data);\n\t\t\t}\n\t\t}\n\t\treturn response;\n\t},\n\tfunction (error) {\n\t\t// Do something with response error\n\t\tapp.$Progress.finish();\n\t\treturn Promise.reject(error);\n\t}\n);\n\nPlugin.install = function (Vue, options) {\n\tVue.axios = _axios;\n\twindow.axios = _axios;\n\tObject.defineProperties(Vue.prototype, {\n\t\taxios: {\n\t\t\tget() {\n\t\t\t\treturn _axios;\n\t\t\t}\n\t\t},\n\t\t$axios: {\n\t\t\tget() {\n\t\t\t\treturn _axios;\n\t\t\t}\n\t\t},\n\t});\n};\n\nVue.use(Plugin)\n\nexport default Plugin;"]}]}