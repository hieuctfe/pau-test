{"remainingRequest":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/babel-loader/lib/index.js!/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/src/modules/seller/_components/choosingplan.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/src/modules/seller/_components/choosingplan.vue","mtime":1555498768536},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport _objectSpread from \"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport pricing from './pricing';\nimport carddialog from './card-dialog';\nimport { mapActions } from 'vuex';\nexport default {\n  name: \"choosingplan\",\n  components: {\n    pricing: pricing,\n    carddialog: carddialog\n  },\n  data: function data() {\n    return {\n      selected: \"\",\n      isCardDialogShow: false\n    };\n  },\n  methods: _objectSpread({}, mapActions({\n    sellerChoosingPlan: \"$_Seller/SELLER_CHOOSING_PLAN\",\n    createCustomer: \"$_Seller/CREATE_CUSTOMER\"\n  }), {\n    choosePlan: function choosePlan(plan) {\n      var _this = this;\n\n      // this.isCardDialogShow = true\n      // // alert(plan)\n      this.selected = plan;\n      this.sellerChoosingPlan(plan).then(function (res) {\n        if (res.data.status) {\n          _this.$router.push({\n            name: 'AddShoptifyStore'\n          });\n        } else {\n          _this.isCardDialogShow = true;\n        }\n      });\n    },\n    createCardForCustomer: function createCardForCustomer(cardInfo) {\n      var _this2 = this;\n\n      var democart = {\n        \"card_no\": cardInfo.card_no.replace(/\\W/gi, ''),\n        \"ccExpiryMonth\": cardInfo.expire_date.split('/')[0],\n        \"ccExpiryYear\": cardInfo.expire_date.split('/')[1],\n        \"cvvNumber\": cardInfo.secure_code,\n        \"plan_id\": this.selected\n      };\n      console.log(democart);\n      this.isCardDialogShow = false;\n      this.createCustomer(democart).then(function (res) {\n        if (res.data.status) {\n          _this2.$router.push({\n            name: 'AddShoptifyStore'\n          });\n        } else {\n          _this2.isCardDialogShow = true;\n          var _res$data = res.data,\n              status = _res$data.status,\n              data = _res$data.data,\n              message = _res$data.message; // let message = data.message\n\n          var lvmessage = data.message;\n\n          for (var mess in lvmessage) {\n            console.log(mess);\n            $notify({\n              content: mess[0],\n              type: \"danger\"\n            });\n          }\n        }\n      });\n    }\n  }),\n  created: function created() {// load user info and current, dose add credit card\n    // this.selected = 'free'\n  }\n};",{"version":3,"sources":["choosingplan.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAWA,OAAA,OAAA,MAAA,WAAA;AACA,OAAA,UAAA,MAAA,eAAA;AACA,SAAA,UAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,OAAA,EAAA,OADA;AACA,IAAA,UAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,gBAAA,EAAA;AAFA,KAAA;AAIA,GAVA;AAWA,EAAA,OAAA,oBACA,UAAA,CAAA;AACA,IAAA,kBAAA,EAAA,+BADA;AAEA,IAAA,cAAA,EAAA;AAFA,GAAA,CADA;AAKA,IAAA,UALA,sBAKA,IALA,EAKA;AAAA;;AACA;AACA;AACA,WAAA,QAAA,GAAA,IAAA;AACA,WAAA,kBAAA,CAAA,IAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,MAAA,EAAA;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,YAAA,IAAA,EAAA;AAAA,WAAA;AACA,SAFA,MAEA;AACA,UAAA,KAAA,CAAA,gBAAA,GAAA,IAAA;AACA;AACA,OANA;AAOA,KAhBA;AAiBA,IAAA,qBAjBA,iCAiBA,QAjBA,EAiBA;AAAA;;AACA,UAAA,QAAA,GAAA;AACA,mBAAA,QAAA,CAAA,OAAA,CAAA,OAAA,CAAA,MAAA,EAAA,EAAA,CADA;AAEA,yBAAA,QAAA,CAAA,WAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAFA;AAGA,wBAAA,QAAA,CAAA,WAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAHA;AAIA,qBAAA,QAAA,CAAA,WAJA;AAKA,mBAAA,KAAA;AALA,OAAA;AAOA,MAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,WAAA,gBAAA,GAAA,KAAA;AACA,WAAA,cAAA,CAAA,QAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,MAAA,EAAA;AACA,UAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,YAAA,IAAA,EAAA;AAAA,WAAA;AACA,SAFA,MAEA;AACA,UAAA,MAAA,CAAA,gBAAA,GAAA,IAAA;AADA,0BAEA,GAAA,CAAA,IAFA;AAAA,cAEA,MAFA,aAEA,MAFA;AAAA,cAEA,IAFA,aAEA,IAFA;AAAA,cAEA,OAFA,aAEA,OAFA,EAGA;;AACA,cAAA,SAAA,GAAA,IAAA,CAAA,OAAA;;AACA,eAAA,IAAA,IAAA,IAAA,SAAA,EAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,YAAA,OAAA,CAAA;AACA,cAAA,OAAA,EAAA,IAAA,CAAA,CAAA,CADA;AAEA,cAAA,IAAA,EAAA;AAFA,aAAA,CAAA;AAIA;AACA;AACA,OAhBA;AAiBA;AA5CA,IAXA;AAyDA,EAAA,OAAA,EAAA,mBAAA,CACA;AACA;AACA;AA5DA,CAAA","sourcesContent":["<template>\n    <div>\n        <div class=\"plan-description m-b-40\"><span>Your acccount has been verified. Please select your plan</span></div>\n        <div>\n            <pricing @choose_plan=\"choosePlan\" :isNotAuto=\"true\"></pricing>\n        </div>\n        <carddialog :isShow=\"isCardDialogShow\" @modalHide=\"isCardDialogShow=false\" @dialogConfirm=\"createCardForCustomer\"></carddialog>\n    </div>\n</template>\n\n<script>\n    import pricing from './pricing'\n    import carddialog from './card-dialog'\n    import {mapActions} from 'vuex'\n\n    export default {\n        name: \"choosingplan\",\n        components: {\n            pricing,carddialog\n        },\n        data() {\n            return {\n                selected: \"\",\n                isCardDialogShow: false\n            }\n        },\n        methods: {\n            ...mapActions({\n                sellerChoosingPlan: \"$_Seller/SELLER_CHOOSING_PLAN\",\n                createCustomer: \"$_Seller/CREATE_CUSTOMER\",\n            }),\n            choosePlan(plan) {\n                // this.isCardDialogShow = true\n                // // alert(plan)\n                this.selected = plan\n                this.sellerChoosingPlan(plan).then(res => {\n                    if (res.data.status) {\n                        this.$router.push({name: 'AddShoptifyStore'})\n                    } else {\n                        this.isCardDialogShow = true\n                    }\n                })\n            },\n            createCardForCustomer(cardInfo) {\n                let democart = {\n                    \"card_no\": cardInfo.card_no.replace(/\\W/gi, ''),\n                    \"ccExpiryMonth\": cardInfo.expire_date.split('/')[0],\n                    \"ccExpiryYear\": cardInfo.expire_date.split('/')[1],\n                    \"cvvNumber\": cardInfo.secure_code,\n                    \"plan_id\": this.selected\n                }\n                console.log(democart);\n                this.isCardDialogShow = false\n                this.createCustomer(democart).then(res => {\n                    if (res.data.status) {\n                        this.$router.push({name: 'AddShoptifyStore'})\n                    } else {\n                        this.isCardDialogShow = true\n                        let {status, data, message} = res.data\n                        // let message = data.message\n                        let lvmessage = data.message\n                        for (let mess in lvmessage) {\n                            console.log(mess);\n                            $notify({\n                                content: mess[0],\n                                type: \"danger\"\n                            })\n                        }\n                    }\n                })\n            }\n        },\n        created: function () {\n            // load user info and current, dose add credit card\n            // this.selected = 'free'\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n    .plan-description {\n        font-size: 35px;\n    }\n\n</style>\n"],"sourceRoot":"src/modules/seller/_components"}]}