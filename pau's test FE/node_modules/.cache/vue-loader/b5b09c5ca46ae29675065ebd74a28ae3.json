{"remainingRequest":"/Volumes/Document/Pau's test/pau's test FE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Document/Pau's test/pau's test FE/src/modules/home/_components/partials/product-question.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/Document/Pau's test/pau's test FE/src/modules/home/_components/partials/product-question.vue","mtime":1553581797009},{"path":"/Volumes/Document/Pau's test/pau's test FE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Document/Pau's test/pau's test FE/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/Document/Pau's test/pau's test FE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Document/Pau's test/pau's test FE/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapGetters } from 'vuex';\n\nexport default {\n    name : 'ProductQuestion',\n    props : {\n        productId : {\n            type : String, \n            required : true\n        }\n    },\n    data(){\n        return {\n            pagination : {\n                limit : 10,\n                current_page : 1,\n                total_page : 0,\n            },\n            content : '',\n            data : [],\n            isPost : false,\n            isLoading : false\n        }\n    },\n    computed :{\n        ...mapGetters({\n            isLoggedIn : '$_Seller/isLoggedIn'\n        })\n    },\n    methods:{\n        load(){\n            if(  this.isLoading ) return\n            this.isLoading = true\n            this.$store.dispatch('$_Home/GET_PRODUCT_QUESTION' , { \n                id : this.productId,\n                current_page : this.pagination.current_page ,\n            }).then( res=>{\n                this.isLoading  = false\n                let { status , data , pagination } = res \n                if( status ){\n                    this.data = data\n                    this.pagination.current_page = pagination.current_page \n                    this.pagination.total_page = pagination.total_page \n                }\n            })\n        },\n        addQuestion(){\n            this.$refs.input.blur()\n            if( this.content == '' ) return;\n            this.isPost = true\n            this.$store.dispatch('$_Home/POST_PRODUCT_QUESTION' , { id : this.productId , content : this.content}).then( res=>{\n                let { status , data } = res \n                this.isPost = false\n                if( status ){\n                    this.content = ''\n                    this.pagination.current_page = 1 \n                    this.load()\n                }\n            })\n        },\n        onChange(page){\n            this.pagination.current_page = page \n            this.load()\n        }\n    },\n    created :  function(){\n        this.load()\n    }\n}\n",{"version":3,"sources":["product-question.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"product-question.vue","sourceRoot":"src/modules/home/_components/partials","sourcesContent":["<template>\n    <div class=\"app-product-question\">\n        <div class=\"app-product-question-head\">\n\n        </div>\n        <div class=\"app-product-question-body\" >\n            <transition name=\"fade-transform\" mode=\"out-in\">\n                \n                <div class=\"app-product-question-body-content\" v-if=\"!isLoading\"  key=\"is-loaded\">\n                    <div class=\"list-question\" v-if=\"data.length\">\n                        <div class=\"item-question\" v-for=\"(item, index) in data\" :key=\"`index${index}`\">\n                            <div class=\"item-question-title\">\n                                {{item.title}}\n                            </div>\n                            <div class=\"item-question-created\">\n                                {{item.created_at | date_format}}\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"list-question\" v-else>\n                        <div class=\"item-empty\">\n                            Empty question\n                        </div>\n                    </div>\n                    <div class=\"text-center\">\n                        <pagination :change=\"onChange\" :router-link=\"false\" v-model=\"pagination.current_page\" :total=\"pagination.total_page\"></pagination>\n                    </div>\n                </div>\n                <div class=\"app-product-question-body-loading\" v-else key=\"is-loading\">\n                    <div class=\"icon-loading\"></div>\n                </div>\n            </transition>\n        </div>\n        <div class=\"app-product-question-foot\" >\n            <div class=\"app-product-question-foot-chat-box\" v-if=\"isLoggedIn\"  :class=\"{ 'is-disabled' : isLoading}\">\n                <textarea  ref=\"input\" class=\"form-control\" v-model.trim=\"content\" @keypress.13.prevent=\"addQuestion\"></textarea>\n                <div class=\"text-right m-t-10\">\n                    <button class=\"btn btn-warning btn-send\" @click.stop.prevent=\"addQuestion\">\n                        <i class=\"icon-loading\" v-if=\"isPost\"></i>\n                        <template v-else>Send</template>\n                    </button>\n                </div>\n            </div>\n            <div class=\"app-product-question-foot-auth\" v-else>\n                <div class=\"text-center\">\n                    Please <router-link :to=\"{ name : 'Login'}\"> Login </router-link> or <router-link :to=\"{ name : 'Login'}\"> Register </router-link> to add question !\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport { mapGetters } from 'vuex';\n\nexport default {\n    name : 'ProductQuestion',\n    props : {\n        productId : {\n            type : String, \n            required : true\n        }\n    },\n    data(){\n        return {\n            pagination : {\n                limit : 10,\n                current_page : 1,\n                total_page : 0,\n            },\n            content : '',\n            data : [],\n            isPost : false,\n            isLoading : false\n        }\n    },\n    computed :{\n        ...mapGetters({\n            isLoggedIn : '$_Seller/isLoggedIn'\n        })\n    },\n    methods:{\n        load(){\n            if(  this.isLoading ) return\n            this.isLoading = true\n            this.$store.dispatch('$_Home/GET_PRODUCT_QUESTION' , { \n                id : this.productId,\n                current_page : this.pagination.current_page ,\n            }).then( res=>{\n                this.isLoading  = false\n                let { status , data , pagination } = res \n                if( status ){\n                    this.data = data\n                    this.pagination.current_page = pagination.current_page \n                    this.pagination.total_page = pagination.total_page \n                }\n            })\n        },\n        addQuestion(){\n            this.$refs.input.blur()\n            if( this.content == '' ) return;\n            this.isPost = true\n            this.$store.dispatch('$_Home/POST_PRODUCT_QUESTION' , { id : this.productId , content : this.content}).then( res=>{\n                let { status , data } = res \n                this.isPost = false\n                if( status ){\n                    this.content = ''\n                    this.pagination.current_page = 1 \n                    this.load()\n                }\n            })\n        },\n        onChange(page){\n            this.pagination.current_page = page \n            this.load()\n        }\n    },\n    created :  function(){\n        this.load()\n    }\n}\n</script>\n<style lang=\"scss\" scoped>\n    @import 'src/assets/style';\n    .app-product-question{\n        &-head{\n\n        }\n        &-body{\n            &-content{\n\n            }\n            &-loading{\n                min-height: 300px;\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                .icon-loading{\n                    width: 50px;\n                    height: 50px;\n                    background: $yellow;\n                }\n            }\n        }\n        &-foot{\n            &-chat-box{\n                &.is-disabled{\n                    opacity: 0.7;\n                    pointer-events: none;\n                }\n                .form-control{\n                    min-height: 100px;\n                }\n            }\n            &-auth{\n                padding: 30px 0;\n                font-size: 16px;\n                a{\n                    font-weight: bold;\n                    color:$yellow;\n                    display: inline-block;\n                    margin: 0 5px;\n                    &:hover{\n                        text-decoration: underline;\n                    }\n                }\n            }\n        }\n        .list-question{\n            .item-empty{\n                padding: 10px 0 20px 0;\n            }\n            .item-question{\n                margin-bottom: 10px;\n                &-title{\n                    font-size: 14px;\n                    font-weight: bold;\n                }\n                &-created{\n                    font-size: 12px;\n                    font-weight: normal;\n                    color:#888;\n                }\n            }\n        }\n        .chat-box{\n            -webkit-user-select: text;\n            -moz-user-select: text;\n            -ms-user-select: text;\n            user-select: text;\n            text-shadow: 0px 0 0px rgba(0, 0, 0, 0.4);\n            border:1px solid #ddd;\n            background: #fff;\n            box-sizing: border-box;\n            min-height: 60px;\n            max-height: 166px;\n            justify-content: center;\n            flex-direction: column;\n            font-size: 15px;\n            padding: 16px 10px 16px 19px;\n            overflow: auto;\n            flex: 1 1 auto;\n            word-break: break-all;\n            word-break: break-word;\n            word-wrap: break-word;\n            &:focus{\n                box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\n                border-color: #80bdff;\n                outline: none;\n            }\n            &.empty{\n                &:before{\n                    content: attr(placeholder);\n                    cursor: text;\n                    background: none;\n                    color: #83878d;\n                    display: block;\n                    position: absolute;\n                    padding-top: 5px;\n                    left: 19px;\n                    right: 150px;\n                    text-overflow: ellipsis;\n                    white-space: nowrap;\n                    overflow: hidden;\n                    pointer-events: none;\n                }\n            }\n            \n        }\n        .btn-send{\n            color:#fff;\n            background: $yellow;\n            min-width: 100px;\n            display: inline-flex;\n            justify-content: center;\n            align-items: center;\n            .icon-loading{\n                height: 24px;\n                width: 24px;\n                background-color: #fff;\n            }\n            &:hover{\n                color:#fff;\n            }\n            &:focus, &:visited{\n                color:#fff;\n            }\n        }\n    }\n</style>\n\n"]}]}