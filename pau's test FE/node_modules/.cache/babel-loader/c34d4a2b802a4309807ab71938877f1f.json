{"remainingRequest":"/Volumes/Document/Pau's test/pau's test FE/node_modules/babel-loader/lib/index.js!/Volumes/Document/Pau's test/pau's test FE/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/Document/Pau's test/pau's test FE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Document/Pau's test/pau's test FE/src/modules/seller/_components/card-dialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/Document/Pau's test/pau's test FE/src/modules/seller/_components/card-dialog.vue","mtime":1555992444783},{"path":"/Volumes/Document/Pau's test/pau's test FE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Document/Pau's test/pau's test FE/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/Document/Pau's test/pau's test FE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Document/Pau's test/pau's test FE/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"card-dialog\",\n  props: [\"isShow\"],\n  data: function data() {\n    return {\n      cardInfo: {\n        card_no: '',\n        secure_code: '',\n        expire_date: '',\n        card_type: ''\n      },\n      cardInfoValidate: {\n        card_no: true,\n        secure_code: true,\n        expire_date: true\n      }\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    if (this.isShow) {\n      $('#credit-dialog').modal('show');\n    }\n\n    $(document).on('hide.bs.modal', '#credit-dialog', function () {\n      _this.$emit('modalHide');\n    });\n  },\n  methods: {\n    checkCard: function checkCard(number) {\n      var mastercard = /^5[1-5][0-9]{14}$/;\n      var visa = /^4[0-9]{12}(?:[0-9]{3})?$/;\n\n      if (visa.test(number)) {\n        this.cardInfo.card_type = 'visa';\n      } else if (mastercard.test(number)) {\n        this.cardInfo.card_type = 'master';\n      } else {\n        this.cardInfo.card_type = '';\n      }\n    },\n    isNumber: function isNumber(evt) {\n      evt = evt ? evt : window.event;\n      var charCode = evt.which ? evt.which : evt.keyCode;\n\n      if (charCode > 31 && (charCode < 48 || charCode > 57) && charCode !== 46) {\n        evt.preventDefault();\n      } else {\n        return true;\n      }\n    },\n    isSecureCodeValid: function isSecureCodeValid(number) {\n      if (isNaN(number)) {\n        return false;\n      }\n\n      return true;\n    },\n    createCardForCustomer: function createCardForCustomer() {\n      var card_no = this.cardInfo.card_no.replace(/\\W/gi, '');\n      var expire_date = this.cardInfo.expire_date.replace(/\\W/gi, '');\n      var secure_code = this.cardInfo.secure_code;\n      console.log('secure');\n      this.cardInfoValidate.card_no = card_no.length == 16;\n      this.cardInfoValidate.expire_date = expire_date.length == 4;\n      this.cardInfoValidate.secure_code = secure_code.length == 3 && this.isSecureCodeValid(secure_code);\n      var isValidate = true;\n\n      for (var key in this.cardInfoValidate) {\n        if (!this.cardInfoValidate[key]) {\n          isValidate = false;\n        }\n      }\n\n      if (isValidate) {\n        this.$emit('dialogConfirm', this.cardInfo);\n        this.cardInfo = {\n          card_no: '',\n          secure_code: '',\n          expire_date: '',\n          card_type: ''\n        };\n      }\n    }\n  },\n  watch: {\n    \"isShow\": function isShow(value) {\n      console.log(this.isShow);\n\n      if (value) {\n        $('#credit-dialog').modal('show');\n      } else {\n        $('#credit-dialog').modal('hide');\n      }\n    },\n    \"cardInfo.card_no\": function cardInfoCard_no(value) {\n      var temp = value.replace(/\\W/gi, '');\n\n      for (var i = temp.length; i < 16; i++) {\n        temp += '1';\n      }\n\n      this.checkCard(temp); // 422149867705\n\n      this.cardInfo.card_no = value.replace(/\\W/gi, '').replace(/(.{4})/g, '$1 ');\n    },\n    \"cardInfo.expire_date\": function cardInfoExpire_date(value) {\n      this.cardInfo.expire_date = value.replace(/\\W/gi, '').replace(/^(.{2})/g, '$1/');\n    }\n  }\n};",{"version":3,"sources":["card-dialog.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"modal fade\" id=\"credit-dialog\" role=\"dialog\">\n        <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n                <div class=\"modal-body\">\n                    <div class=\"shoptify-link-container\">\n                        <div class=\"row credit-card-form\">\n                            <div class=\"card-number form-group col col-12\">\n                                <label class=\"input-title\">Card Number <span class=\"text-danger\">*</span></label>\n                                <div class=\"outline-type\">\n                                    <input :class=\"{'is-invalid': !cardInfoValidate.card_no}\"\n                                           class=\"form-control border-0\" maxlength=\"19\" v-on:keypress=\"isNumber()\"\n                                           v-model=\"cardInfo.card_no\"\n                                           placeholder=\"XXXX XXXX XXXX XXXX\" type=\"text\"/>\n                                    <img v-if=\"cardInfo.card_type=='visa'\" src=\"../../../assets/images/icons/visa.png\"\n                                         alt=\"\">\n                                    <img v-if=\"cardInfo.card_type=='master'\"\n                                         src=\"../../../assets/images/icons/master.png\" alt=\"\">\n                                </div>\n                            </div>\n                            <!--<div class=\"form-group col col-12\">-->\n                            <!--<label class=\"input-title\">Card Name<span class=\"text-danger\">*</span></label>-->\n                            <!--<input class=\"form-control outline-type\" placeholder=\"Peter Nguyen\" type=\"text\"/>-->\n                            <!--<div class=\"invalid-feedback\">-->\n                            <!--<span>Current password is require</span>-->\n                            <!--</div>-->\n                            <!--</div>-->\n                        </div>\n                        <div class=\"row credit-card-form secure-code\">\n                            <div class=\"form-group col col-4\">\n                                <label class=\"input-title\">Expire Date<span class=\"text-danger\">*</span></label>\n                                <input :class=\"{'is-invalid': !cardInfoValidate.expire_date}\"\n                                       v-model=\"cardInfo.expire_date\" class=\"form-control outline-type\"\n                                       maxlength=\"5\"\n                                       v-on:keypress=\"isNumber()\"\n                                       placeholder=\"MM/YY\" type=\"text\"/>\n                            </div>\n                            <div class=\"form-group col col-4\">\n                                <label class=\"input-title\">Secure code<span class=\"text-danger\">*</span></label>\n                                <input :class=\"{'is-invalid': !cardInfoValidate.secure_code}\"\n                                       v-model=\"cardInfo.secure_code\" class=\"form-control outline-type\"\n                                       maxlength=\"3\"\n                                       placeholder=\"567\" type=\"password\"/>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"dialog-action\">\n                        <button class=\"btn btn-warning btn-radius-border m-t-25 text-white\"\n                                @click=\"createCardForCustomer\">Confirm\n                        </button>\n                    </div>\n                    <!--<div class=\"dialog-hepper m-t-25\">-->\n                    <!--<div>-->\n                    <!--<a class=\"text-warning\">-->\n                    <!--Card info step ....-->\n                    <!--</a>-->\n                    <!--</div>-->\n                    <!--</div>-->\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"card-dialog\",\n        props: [\"isShow\"],\n        data() {\n            return {\n                cardInfo: {\n                    card_no: '',\n                    secure_code: '',\n                    expire_date: '',\n                    card_type: ''\n                },\n                cardInfoValidate: {\n                    card_no: true,\n                    secure_code: true,\n                    expire_date: true\n                }\n            }\n        },\n        created: function () {\n            if (this.isShow) {\n                $('#credit-dialog').modal('show')\n            }\n            $(document).on('hide.bs.modal', '#credit-dialog', () => {\n                this.$emit('modalHide')\n            });\n        },\n        methods: {\n            checkCard(number) {\n                let mastercard = /^5[1-5][0-9]{14}$/\n                let visa = /^4[0-9]{12}(?:[0-9]{3})?$/\n                if (visa.test(number)) {\n                    this.cardInfo.card_type = 'visa'\n                } else if (mastercard.test(number)) {\n                    this.cardInfo.card_type = 'master'\n                } else {\n                    this.cardInfo.card_type = ''\n                }\n            },\n            isNumber: function (evt) {\n                evt = (evt) ? evt : window.event;\n                var charCode = (evt.which) ? evt.which : evt.keyCode;\n                if ((charCode > 31 && (charCode < 48 || charCode > 57)) && charCode !== 46) {\n                    evt.preventDefault();\n                } else {\n                    return true;\n                }\n            },\n            isSecureCodeValid(number) {\n                if (isNaN(number)) {\n                    return false\n                }\n                return true\n            },\n            createCardForCustomer() {\n                let card_no = this.cardInfo.card_no.replace(/\\W/gi, '');\n                let expire_date = this.cardInfo.expire_date.replace(/\\W/gi, '');\n                let secure_code = this.cardInfo.secure_code\n                console.log('secure');\n                this.cardInfoValidate.card_no = card_no.length == 16\n                this.cardInfoValidate.expire_date = expire_date.length == 4\n                this.cardInfoValidate.secure_code = (secure_code.length == 3 && this.isSecureCodeValid(secure_code))\n                let isValidate = true\n                for (let key in this.cardInfoValidate) {\n                    if (!this.cardInfoValidate[key]) {\n                        isValidate = false\n                    }\n                }\n                if (isValidate) {\n                    this.$emit('dialogConfirm', this.cardInfo)\n                    this.cardInfo = {\n                        card_no: '',\n                        secure_code: '',\n                        expire_date: '',\n                        card_type: ''\n                    }\n                }\n            }\n        },\n        watch: {\n            \"isShow\": function (value) {\n                console.log(this.isShow);\n                if (value) {\n                    $('#credit-dialog').modal('show')\n                } else {\n                    $('#credit-dialog').modal('hide')\n                }\n            },\n            \"cardInfo.card_no\": function (value) {\n                let temp = value.replace(/\\W/gi, '');\n                for (let i = temp.length; i < 16; i++) {\n                    temp += '1'\n                }\n                this.checkCard(temp);\n                // 422149867705\n                this.cardInfo.card_no = value.replace(/\\W/gi, '').replace(/(.{4})/g, '$1 ');\n            },\n            \"cardInfo.expire_date\": function (value) {\n                this.cardInfo.expire_date = value.replace(/\\W/gi, '').replace(/^(.{2})/g, '$1/');\n            }\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n    .credit-card-form {\n        &.secure-code {\n            input {\n                text-align: center;\n            }\n        }\n        .card-number {\n            img {\n                position: absolute;\n                right: 10px;\n                top: 50%;\n                transform: translateY(-50%);\n                width: 40px;\n            }\n            div.outline-type {\n                position: relative;\n            }\n        }\n        .form-group {\n            & > label {\n                text-align: left;\n                width: 100%;\n            }\n            input {\n                letter-spacing: 3px;\n                /*text-align: center;*/\n            }\n        }\n    }\n\n    .modal-body {\n        padding: 30px;\n    }\n\n    .dialog-action {\n        text-align: center;\n        button {\n            min-width: 120px;\n        }\n    }\n</style>\n"],"sourceRoot":"src/modules/seller/_components"}]}