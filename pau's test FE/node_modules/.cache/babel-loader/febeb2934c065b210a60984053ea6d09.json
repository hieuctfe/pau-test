{"remainingRequest":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/babel-loader/lib/index.js!/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/src/components/v-money/directive.js","dependencies":[{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/src/components/v-money/directive.js","mtime":1552459990987},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import { format, unformat, setCursor, event } from './utils';\nimport assign from './assign';\nimport defaults from './options';\nexport default function (el, binding) {\n  if (!binding.value) return;\n  var opt = assign(defaults, binding.value); // v-money used on a component that's not a input\n\n  if (el.tagName.toLocaleUpperCase() !== 'INPUT') {\n    var els = el.getElementsByTagName('input');\n\n    if (els.length !== 1) {// throw new Error(\"v-money requires 1 input, found \" + els.length)\n    } else {\n      el = els[0];\n    }\n  }\n\n  el.onkeydown = function (e) {\n    var backspacePressed = e.which == 8 || e.which == 46;\n    var atEndPosition = el.value.length - el.selectionEnd === 0;\n\n    if (opt.allowBlank && backspacePressed && atEndPosition && unformat(el.value, 0) === 0) {\n      el.value = '';\n      el.dispatchEvent(event('change')); // v-model.lazy\n    }\n  };\n\n  el.oninput = function () {\n    var positionFromEnd = el.value.length - el.selectionEnd;\n    el.value = format(el.value, opt);\n    positionFromEnd = Math.max(positionFromEnd, opt.suffix.length); // right\n\n    positionFromEnd = el.value.length - positionFromEnd;\n    positionFromEnd = Math.max(positionFromEnd, opt.prefix.length + 1); // left\n\n    setCursor(el, positionFromEnd);\n    el.dispatchEvent(event('change')); // v-model.lazy\n  };\n\n  el.onfocus = function () {\n    setCursor(el, el.value.length - opt.suffix.length);\n  };\n\n  el.oninput();\n  el.dispatchEvent(event('input')); // force format after initialization\n}",{"version":3,"sources":["/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/src/components/v-money/directive.js"],"names":["format","unformat","setCursor","event","assign","defaults","el","binding","value","opt","tagName","toLocaleUpperCase","els","getElementsByTagName","length","onkeydown","e","backspacePressed","which","atEndPosition","selectionEnd","allowBlank","dispatchEvent","oninput","positionFromEnd","Math","max","suffix","prefix","onfocus"],"mappings":"AAAA,SAAQA,MAAR,EAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,KAArC,QAAiD,SAAjD;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,QAAP,MAAqB,WAArB;AAEA,eAAe,UAAUC,EAAV,EAAcC,OAAd,EAAuB;AACpC,MAAI,CAACA,OAAO,CAACC,KAAb,EAAoB;AACpB,MAAIC,GAAG,GAAGL,MAAM,CAACC,QAAD,EAAWE,OAAO,CAACC,KAAnB,CAAhB,CAFoC,CAIpC;;AACA,MAAIF,EAAE,CAACI,OAAH,CAAWC,iBAAX,OAAmC,OAAvC,EAAgD;AAC9C,QAAIC,GAAG,GAAGN,EAAE,CAACO,oBAAH,CAAwB,OAAxB,CAAV;;AACA,QAAID,GAAG,CAACE,MAAJ,KAAe,CAAnB,EAAsB,CACpB;AACD,KAFD,MAEO;AACLR,MAAAA,EAAE,GAAGM,GAAG,CAAC,CAAD,CAAR;AACD;AACF;;AAEDN,EAAAA,EAAE,CAACS,SAAH,GAAe,UAAUC,CAAV,EAAa;AAC1B,QAAIC,gBAAgB,GAAGD,CAAC,CAACE,KAAF,IAAW,CAAX,IAAgBF,CAAC,CAACE,KAAF,IAAW,EAAlD;AACA,QAAIC,aAAa,GAAIb,EAAE,CAACE,KAAH,CAASM,MAAT,GAAkBR,EAAE,CAACc,YAAtB,KAAwC,CAA5D;;AACA,QAAIX,GAAG,CAACY,UAAJ,IAAkBJ,gBAAlB,IAAsCE,aAAtC,IAAwDlB,QAAQ,CAACK,EAAE,CAACE,KAAJ,EAAW,CAAX,CAAR,KAA0B,CAAtF,EAA0F;AACxFF,MAAAA,EAAE,CAACE,KAAH,GAAW,EAAX;AACAF,MAAAA,EAAE,CAACgB,aAAH,CAAiBnB,KAAK,CAAC,QAAD,CAAtB,EAFwF,CAEtD;AACnC;AACF,GAPD;;AASAG,EAAAA,EAAE,CAACiB,OAAH,GAAa,YAAY;AACvB,QAAIC,eAAe,GAAGlB,EAAE,CAACE,KAAH,CAASM,MAAT,GAAkBR,EAAE,CAACc,YAA3C;AACAd,IAAAA,EAAE,CAACE,KAAH,GAAWR,MAAM,CAACM,EAAE,CAACE,KAAJ,EAAWC,GAAX,CAAjB;AACAe,IAAAA,eAAe,GAAGC,IAAI,CAACC,GAAL,CAASF,eAAT,EAA0Bf,GAAG,CAACkB,MAAJ,CAAWb,MAArC,CAAlB,CAHuB,CAGwC;;AAC/DU,IAAAA,eAAe,GAAGlB,EAAE,CAACE,KAAH,CAASM,MAAT,GAAkBU,eAApC;AACAA,IAAAA,eAAe,GAAGC,IAAI,CAACC,GAAL,CAASF,eAAT,EAA0Bf,GAAG,CAACmB,MAAJ,CAAWd,MAAX,GAAoB,CAA9C,CAAlB,CALuB,CAK4C;;AACnEZ,IAAAA,SAAS,CAACI,EAAD,EAAKkB,eAAL,CAAT;AACAlB,IAAAA,EAAE,CAACgB,aAAH,CAAiBnB,KAAK,CAAC,QAAD,CAAtB,EAPuB,CAOW;AACnC,GARD;;AAUAG,EAAAA,EAAE,CAACuB,OAAH,GAAa,YAAY;AACvB3B,IAAAA,SAAS,CAACI,EAAD,EAAKA,EAAE,CAACE,KAAH,CAASM,MAAT,GAAkBL,GAAG,CAACkB,MAAJ,CAAWb,MAAlC,CAAT;AACD,GAFD;;AAIAR,EAAAA,EAAE,CAACiB,OAAH;AACAjB,EAAAA,EAAE,CAACgB,aAAH,CAAiBnB,KAAK,CAAC,OAAD,CAAtB,EAtCoC,CAsCH;AAClC","sourcesContent":["import {format, unformat, setCursor, event} from './utils'\nimport assign from './assign'\nimport defaults from './options'\n\nexport default function (el, binding) {\n  if (!binding.value) return\n  var opt = assign(defaults, binding.value)\n\n  // v-money used on a component that's not a input\n  if (el.tagName.toLocaleUpperCase() !== 'INPUT') {\n    var els = el.getElementsByTagName('input')\n    if (els.length !== 1) {\n      // throw new Error(\"v-money requires 1 input, found \" + els.length)\n    } else {\n      el = els[0]\n    }\n  }\n\n  el.onkeydown = function (e) {\n    var backspacePressed = e.which == 8 || e.which == 46\n    var atEndPosition = (el.value.length - el.selectionEnd) === 0\n    if (opt.allowBlank && backspacePressed && atEndPosition && (unformat(el.value, 0) === 0)) {\n      el.value = ''\n      el.dispatchEvent(event('change')) // v-model.lazy\n    }\n  }\n\n  el.oninput = function () {\n    var positionFromEnd = el.value.length - el.selectionEnd\n    el.value = format(el.value, opt)\n    positionFromEnd = Math.max(positionFromEnd, opt.suffix.length) // right\n    positionFromEnd = el.value.length - positionFromEnd\n    positionFromEnd = Math.max(positionFromEnd, opt.prefix.length + 1) // left\n    setCursor(el, positionFromEnd)\n    el.dispatchEvent(event('change')) // v-model.lazy\n  }\n\n  el.onfocus = function () {\n    setCursor(el, el.value.length - opt.suffix.length)\n  }\n\n  el.oninput()\n  el.dispatchEvent(event('input')) // force format after initialization\n}\n"]}]}