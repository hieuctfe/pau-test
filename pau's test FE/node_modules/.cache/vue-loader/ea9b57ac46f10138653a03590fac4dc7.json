{"remainingRequest":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/src/components/quick-view.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/src/components/quick-view.vue","mtime":1554975488186},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport ImageZoomer from '@/modules/home/_components/partials/vue-pic-zoom'\nimport {Carousel, Slide} from '@/components/v-carousel'\nimport helper from '@/plugins/helper'\nimport mixin from '@/modules/home/_mixins/product-detail'\nimport {mapActions, mapGetters} from 'vuex'\n\nexport default {\n    name: 'QuickView',\n    mixins: [mixin],\n    components: {\n        ImageZoomer, Carousel, Slide\n    },\n    data() {\n        return {\n            data: null,\n            error: null,\n            isLoading: true,\n            isImportLoading: false\n        }\n    },\n    methods: {\n        ...mapActions({\n            callImportProduct: \"$_Home/IMPORT_PRODUCT\"\n        }),\n        ...mapGetters({\n            seller: '$_Seller/getSeller',\n        }),\n        importProduct(product, event) {\n            if (this.seller()) {\n                let id = product.id\n                let target = $(event.target)\n                this.isImportLoading = true\n                let defaultShop = this.seller().shops.filter(function (el, idx) {\n                    return el.shop_default == 1\n                });\n                let temp = {\n                    \"product_id\": id,\n                    \"shop_id\": defaultShop[0].id\n                }\n                this.callImportProduct(temp).then(res => {\n                    if (res.data.status) {\n                        this.data.isImported = true\n                    } else {\n                        $notify({\n                            content: 'import product fail',\n                            type: 'danger'\n                        })\n                    }\n                    this.isImportLoading = false\n                })\n            } else {\n                $(this.$refs.modal).modal('hide')\n                this.$router.push({\n                    name: \"Login\"\n                })\n            }\n        },\n        removeImported(product) {\n            let id = product.id\n            let target = $(event.target)\n            this.isLoading = true\n            let defaultShop = this.seller().shops.filter(function (el, idx) {\n                return el.shop_default == 1\n            });\n            let temp = {\n                \"product_id\": id,\n                \"shop_id\": defaultShop[0].id\n            }\n            this.removeImportedProduct(temp).then(res => {\n                if (res.data.status) {\n                    this.ProductInfo.isImported = false\n                } else {\n                    $notify({\n                        content: 'Remove Imported Product fail',\n                        type: 'danger'\n                    })\n                }\n                this.isLoading = false\n            })\n        },\n        handleViewDetail() {\n            var slug = `${this.data.handle}-${this.data.id}`\n            $(this.$refs.modal).modal('hide')\n            setTimeout(() => {\n                this.$router.push({\n                    name: 'ProductDetail',\n                    params: {\n                        id: slug\n                    }\n                })\n            }, 500);\n        }\n    },\n    mounted() {\n        if (EventBus) {\n            EventBus.$on('show-quick-view', ({id}) => {\n                $(this.$refs.modal).modal('show')\n                this.isLoading = true\n                this.$store.dispatch('$_Home/GET_PRODUCT_DETAIL', {id: id}).then(res => {\n                    let {status, data} = res\n\n                    if (status) {\n                        this.data = data\n                    } else {\n                        this.error = 'error'\n                    }\n                    setTimeout(() => {\n                        this.isLoading = false;\n                    }, 500);\n                })\n                this.$nextTick(() => {\n                    $(this.$refs.modal).on('hidden.bs.modal', () => {\n                        this.product = null\n                        this.error = null\n                        this.isLoading = true\n                        this.activeSlide = 0\n                    })\n                })\n\n            })\n        }\n    }\n}\n",{"version":3,"sources":["quick-view.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0IA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"quick-view.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        <div class=\"modal fade \" tabindex=\"-1\" role=\"dialog\" ref=\"modal\">\n            <div class=\"modal-dialog\" role=\"document\">\n                <div class=\"modal-content\">\n                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                        <i class=\"fal fa-times\"></i>\n                    </button>\n                    <div class=\"modal-body\">\n                        <div class=\"quick-view\">\n                            <transition name=\"fade\" mode=\"out-in\">\n                                <div class=\"quick-view-loading\" v-if=\"isLoading\" key=\"quick-view-loading\">\n                                    <span class=\"icon-loading\"></span>\n                                </div>\n                                <div class=\"quick-view-content\" v-else key=\"quick-view-ready\">\n                                    <div class=\"quick-view-content-row row \">\n                                        <div class=\"quick-view-content-col col col-6\">\n                                            <div class=\"product-image\">\n                                                <div class=\"product-image-box\">\n                                                    <image-zoomer :src=\"activeImage\"></image-zoomer>\n                                                </div>\n                                                <div class=\"product-image-carousel\">\n                                                    <carousel v-bind=\"carousel\">\n                                                        <slide v-for=\"(item , index) in data.images\"\n                                                               :key=\"`slide_${index}`\" :data-index=\"index\"\n                                                               @slideclick=\"onClickSlide\">\n                                                            <div class=\"item-slide\"\n                                                                 :class=\"{ 'is-active' : activeSlide == index}\">\n                                                                <img :src=\"item.src\" alt=\"\">\n                                                            </div>\n                                                        </slide>\n                                                    </carousel>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div class=\"quick-view-content-col col col-6\">\n                                            <div class=\"product-title\">\n                                                <h1>{{data.title}}</h1>\n                                            </div>\n                                            <div class=\"product-supplier\">\n                                                <span>By</span>\n                                                <strong>{{data.supplier.shop_name}}</strong>\n                                            </div>\n                                            <div class=\"product-short-description\">\n                                                <p>\n                                                    {{ data.short_description}}\n                                                </p>\n                                            </div>\n                                            <div class=\"product-properties\">\n                                                <div class=\"item-property\"\n                                                     v-for=\"(property , index ) in form.properties\"\n                                                     :key=\"`property_${index}`\">\n                                                    <div class=\"item-property-title\">{{ property.name }}</div>\n                                                    <div class=\"item-property-value\">\n                                                        <div class=\"item-value\" v-for=\"(item, i) in property.data\"\n                                                             :key=\"`value_index${i}`\"\n                                                             :class=\"{ 'is-active' : activeOption({option : property.id , value : item.id }) }\">\n                                                            <template v-if=\"item.image && item.image.src\">\n                                                                <button @click.stop.prevent=\"selectOption(property.id , item.id , item.image )\"\n                                                                        type=\"button\"\n                                                                        class=\"btn btn-sm item-value-image\"\n                                                                        :title=\"item.name\">\n                                                                    <img :src=\"item.image.src\" alt=\"\">\n                                                                </button>\n                                                            </template>\n                                                            <template v-else>\n                                                                <button @click.stop.prevent=\"selectOption(property.id , item.id)\"\n                                                                        type=\"button\"\n                                                                        class=\"btn btn-sm item-value-text\">\n                                                                    {{item.name}}\n                                                                </button>\n                                                            </template>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div class=\"product-price\">\n                                                <div class=\"item-price-title\">Price</div>\n                                                <transition name=\"fade-transform\" mode=\"out-in\">\n                                                    <div class=\"item-price-value\" v-if=\"selectedProduct.is_selected\"\n                                                         key=\"price_1\">\n                                                        {{selectedProduct.price }}\n                                                    </div>\n                                                    <div class=\"item-price-value\" v-else key=\"price_2\">\n                                                        {{selectedProduct.price }}\n                                                    </div>\n                                                </transition>\n                                            </div>\n                                            <div class=\"product-inventory\">\n                                                <transition name=\"fade-transform\" mode=\"out-in\">\n                                                    <div v-if=\"selectedProduct.is_selected\" key=\"inventory_1\">\n                                                        <span>Availability :</span> <strong>{{selectedProduct.inventory\n                                                        | number_format }} in stock</strong>\n                                                    </div>\n                                                    <div v-else key=\"inventory_2\">\n                                                        <span>Availability :</span> <strong>{{data.inventory |\n                                                        number_format }} for {{data.variants.length}} variants in\n                                                        stock</strong>\n                                                    </div>\n                                                </transition>\n                                            </div>\n                                            <div class=\"product-actions\">\n                                                <button v-if=\"!data.isImported\"\n                                                        @click.stop.prevent=\"importProduct(data, $event)\"\n                                                        :class=\"{'btn-importing': isImportLoading}\"\n                                                        class=\"btn btn-warning btn-import-list\">\n                                                    <i class=\"icon-load fas fa-shopping-bag\"></i>\n                                                    <div class=\"circle-loader\">\n                                                        <div class=\"checkmark draw\"></div>\n                                                    </div>\n                                                    Add to Import List\n                                                </button>\n                                                <button v-if=\"data.isImported\"\n                                                        @click.stop.prevent=\"removeImported(data, $event)\"\n                                                        :class=\"{'btn-importing': isImportLoading}\"\n                                                        class=\"btn black-button-style\">\n                                                    <i class=\"icon-load fas fa-trash\"></i>\n                                                    <div class=\"circle-loader\">\n                                                        <div class=\"checkmark draw\"></div>\n                                                    </div>\n                                                    Remove imported list\n                                                </button>\n                                                <button @click.stop.prevent=\"handleViewDetail()\" type=\"button\"\n                                                        class=\"btn btn-light btn-view-detail\">View detail\n                                                </button>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </transition>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\n    import ImageZoomer from '@/modules/home/_components/partials/vue-pic-zoom'\n    import {Carousel, Slide} from '@/components/v-carousel'\n    import helper from '@/plugins/helper'\n    import mixin from '@/modules/home/_mixins/product-detail'\n    import {mapActions, mapGetters} from 'vuex'\n\n    export default {\n        name: 'QuickView',\n        mixins: [mixin],\n        components: {\n            ImageZoomer, Carousel, Slide\n        },\n        data() {\n            return {\n                data: null,\n                error: null,\n                isLoading: true,\n                isImportLoading: false\n            }\n        },\n        methods: {\n            ...mapActions({\n                callImportProduct: \"$_Home/IMPORT_PRODUCT\"\n            }),\n            ...mapGetters({\n                seller: '$_Seller/getSeller',\n            }),\n            importProduct(product, event) {\n                if (this.seller()) {\n                    let id = product.id\n                    let target = $(event.target)\n                    this.isImportLoading = true\n                    let defaultShop = this.seller().shops.filter(function (el, idx) {\n                        return el.shop_default == 1\n                    });\n                    let temp = {\n                        \"product_id\": id,\n                        \"shop_id\": defaultShop[0].id\n                    }\n                    this.callImportProduct(temp).then(res => {\n                        if (res.data.status) {\n                            this.data.isImported = true\n                        } else {\n                            $notify({\n                                content: 'import product fail',\n                                type: 'danger'\n                            })\n                        }\n                        this.isImportLoading = false\n                    })\n                } else {\n                    $(this.$refs.modal).modal('hide')\n                    this.$router.push({\n                        name: \"Login\"\n                    })\n                }\n            },\n            removeImported(product) {\n                let id = product.id\n                let target = $(event.target)\n                this.isLoading = true\n                let defaultShop = this.seller().shops.filter(function (el, idx) {\n                    return el.shop_default == 1\n                });\n                let temp = {\n                    \"product_id\": id,\n                    \"shop_id\": defaultShop[0].id\n                }\n                this.removeImportedProduct(temp).then(res => {\n                    if (res.data.status) {\n                        this.ProductInfo.isImported = false\n                    } else {\n                        $notify({\n                            content: 'Remove Imported Product fail',\n                            type: 'danger'\n                        })\n                    }\n                    this.isLoading = false\n                })\n            },\n            handleViewDetail() {\n                var slug = `${this.data.handle}-${this.data.id}`\n                $(this.$refs.modal).modal('hide')\n                setTimeout(() => {\n                    this.$router.push({\n                        name: 'ProductDetail',\n                        params: {\n                            id: slug\n                        }\n                    })\n                }, 500);\n            }\n        },\n        mounted() {\n            if (EventBus) {\n                EventBus.$on('show-quick-view', ({id}) => {\n                    $(this.$refs.modal).modal('show')\n                    this.isLoading = true\n                    this.$store.dispatch('$_Home/GET_PRODUCT_DETAIL', {id: id}).then(res => {\n                        let {status, data} = res\n\n                        if (status) {\n                            this.data = data\n                        } else {\n                            this.error = 'error'\n                        }\n                        setTimeout(() => {\n                            this.isLoading = false;\n                        }, 500);\n                    })\n                    this.$nextTick(() => {\n                        $(this.$refs.modal).on('hidden.bs.modal', () => {\n                            this.product = null\n                            this.error = null\n                            this.isLoading = true\n                            this.activeSlide = 0\n                        })\n                    })\n\n                })\n            }\n        }\n    }\n</script>\n<style lang=\"scss\" scoped>\n    @import 'src/assets/style';\n\n    $border-color: #eee;\n    .modal {\n        &-dialog {\n            max-width: 1100px;\n            .close {\n                position: absolute;\n                right: 10px;\n                top: 10px;\n                font-size: 20px;\n                z-index: 10;\n                width: 28px;\n                height: 28px;\n                border-radius: 50%;\n                overflow: hidden;\n                display: inline-flex;\n                justify-content: center;\n                align-items: center;\n                &:hover {\n                    background: rgba(0, 0, 0, 0.15)\n                }\n            }\n            .modal-body {\n                padding: 30px 50px;\n            }\n        }\n    }\n\n    .quick-view {\n        &-loading {\n            width: 100%;\n            height: 400px;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            .icon-loading {\n                height: 100px;\n                width: 100px;\n                background: $yellow;\n            }\n        }\n        &-content {\n            min-height: 400px;\n            &-row {\n                margin-left: -25px;\n                margin-right: -25px;\n            }\n            &-col {\n                padding-left: 25px;\n                padding-right: 25px;\n            }\n        }\n\n    }\n\n    .product {\n        &-image {\n            position: relative;\n            &-box {\n                border: 1px solid $border-color;\n                display: flex;\n                justify-content: center;\n            }\n            &-carousel {\n                width: 100%;\n                height: 100px;\n                overflow: hidden;\n                padding: 15px 0px;\n\n                .item-slide {\n                    width: 70px;\n                    height: 70px;\n                    border: 2px solid $border-color;\n                    display: flex;\n                    justify-content: center;\n                    align-items: center;\n                    transition: all 0.3s ease;\n                    img {\n                        max-width: 100%;\n                        max-height: 100%;\n                    }\n                    &.is-active {\n                        border-color: $yellow;\n                    }\n                }\n            }\n        }\n        &-title {\n            margin-bottom: 5px;\n            h1 {\n                font-size: 20px;\n                font-weight: 500;\n                margin: 0;\n            }\n        }\n        &-supplier {\n            span, strong {\n                display: inline-block;\n            }\n            strong {\n                color: $yellow;\n                margin-left: 5px;\n            }\n        }\n        &-properties {\n            .item-property {\n                margin-bottom: 20px;\n                &-title {\n                    font-size: 16px;\n                    font-weight: 500;\n                    margin-bottom: 5px;\n                    line-height: 16px;\n                    text-transform: uppercase;\n                }\n                &-value {\n                    display: flex;\n                    flex-direction: row;\n                    flex-wrap: wrap;\n                    margin: 0 -7px;\n                    .item-value {\n                        padding: 0 5px;\n                        margin: 0 0 10px;\n                        .btn {\n                            &:focus {\n                                outline: none;\n                                box-shadow: none;\n                            }\n                        }\n                        &.is-active {\n                            .item-value {\n                                &-image {\n                                    border-color: $yellow;\n                                }\n                                &-text {\n                                    border-color: $yellow;\n                                }\n                            }\n                        }\n                        &:first-child {\n                            margin-left: 0;\n                        }\n                        &-image {\n                            padding: 0;\n                            height: 40px;\n                            width: 40px;\n                            min-width: 40px;\n                            border-radius: 8px;\n                            border: 2px solid #ddd;\n                            overflow: hidden;\n                            img {\n                                max-width: 100%;\n                                max-height: 100%;\n                            }\n                        }\n                        &-text {\n                            min-height: 28px;\n                            padding: 0 7px;\n                            min-width: 60px;\n                            overflow: hidden;\n                            border: 1px solid #ddd;\n                            border-radius: 19px;\n                        }\n                    }\n                }\n            }\n        }\n        &-price {\n            .item-price {\n                &-title {\n                    font-size: 16px;\n                    font-weight: bold;\n                    margin-bottom: 5px;\n                    line-height: 16px;\n                    text-transform: uppercase;\n                }\n                &-value {\n                    font-size: 35px;\n                    font-weight: 500;\n                    margin-bottom: 5px;\n                    line-height: 35px;\n                }\n            }\n        }\n        &-actions {\n            margin-top: 30px;\n            display: flex;\n            flex-wrap: nowrap;\n            flex-direction: row;\n            .btn {\n                padding: 0 15px;\n                border-radius: 21px;\n                height: 42px;\n                line-height: 42px;\n                align-items: center;\n                justify-content: center;\n                display: inline-flex;\n                flex: 1 1;\n                margin: 0 5px 5px 5px;\n                font-size: 14px;\n                font-weight: 500;\n                &-import-list {\n                    color: #fff;\n                    background: $yellow;\n                }\n                &.btn-importing {\n                    .icon-load {\n                        display: none;\n                    }\n                    .circle-loader {\n                        display: inline-block;\n                    }\n                }\n                &-view-detail {\n                    border: 1px solid #ccc;\n                }\n            }\n        }\n        &-return-policy {\n            display: flex;\n            flex-wrap: nowrap;\n            flex-direction: row;\n            .return-policy {\n                &-title {\n                    font-size: 14px;\n                    text-transform: uppercase;\n                    white-space: nowrap;\n                    font-weight: 500;\n                }\n                &-value {\n                    padding-left: 15px;\n                    strong {\n                        font-size: 14px;\n                        font-weight: 500;\n                    }\n                    p {\n                        font-size: 12px;\n                    }\n                }\n            }\n        }\n    }\n</style>\n\n\n"]}]}