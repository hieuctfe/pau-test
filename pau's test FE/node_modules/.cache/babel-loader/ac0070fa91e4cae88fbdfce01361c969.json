{"remainingRequest":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/babel-loader/lib/index.js!/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/src/modules/seller/_components/category.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/src/modules/seller/_components/category.vue","mtime":1553078250148},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport _objectSpread from \"/Volumes/Document/Fireapps/DSSellerFE/ds-seller-frontend/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapActions } from 'vuex';\nexport default {\n  name: \"category\",\n  props: [\"selected\", \"button_content\"],\n  data: function data() {\n    return {\n      data: [],\n      current_selected: [],\n      is_selected: true\n    };\n  },\n  methods: _objectSpread({}, mapActions({\n    getSellerCategory: '$_Seller/getSellerCategory',\n    updateFavoriteCollection: '$_Seller/UPDATE_FAVORITE_COLLECTION',\n    getSellerFavoriteCategory: '$_Seller/GET_FAVORITE_CATEGORY'\n  }), {\n    changeTab: function changeTab(item, event) {\n      var parent = $(event.target).parent('.category-item');\n\n      if (parent.hasClass('active')) {\n        parent.removeClass('active');\n      } else {\n        parent.addClass('active');\n        this.is_selected = true;\n      }\n\n      item.favorite = !item.favorite;\n    },\n    saveFavoriteCategory: function saveFavoriteCategory() {\n      var _this = this;\n\n      var currentSelected = this.data.filter(function (el) {\n        return el.favorite;\n      }).map(function (el) {\n        return el.id;\n      });\n\n      if (currentSelected.length > 0) {\n        this.updateFavoriteCollection(currentSelected).then(function (res) {\n          if (res.data.status) {\n            _this.$emit('change_category', currentSelected);\n\n            $notify({\n              content: \"Save success\",\n              type: \"success\"\n            });\n          }\n        });\n      } else {\n        this.is_selected = false;\n        $notify({\n          content: \"You must choose at least one category\",\n          type: \"danger\"\n        });\n      }\n    }\n  }),\n  created: function created() {\n    var that = this;\n    this.getSellerCategory().then(function (res) {\n      that.data = res.data.data;\n      that.getSellerFavoriteCategory().then(function (res) {\n        console.log(res.data);\n\n        if (res.data.status) {\n          that.data = that.data.map(function (el) {\n            el.favorite = res.data.data.includes(el.id);\n            return el;\n          });\n        }\n      });\n    });\n  }\n};",{"version":3,"sources":["category.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,SAAA,UAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,KAAA,EAAA,CAAA,UAAA,EAAA,gBAAA,CAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,gBAAA,EAAA,EAFA;AAGA,MAAA,WAAA,EAAA;AAHA,KAAA;AAKA,GATA;AAUA,EAAA,OAAA,oBACA,UAAA,CAAA;AACA,IAAA,iBAAA,EAAA,4BADA;AAEA,IAAA,wBAAA,EAAA,qCAFA;AAGA,IAAA,yBAAA,EAAA;AAHA,GAAA,CADA;AAMA,IAAA,SAAA,EAAA,mBAAA,IAAA,EAAA,KAAA,EAAA;AACA,UAAA,MAAA,GAAA,CAAA,CAAA,KAAA,CAAA,MAAA,CAAA,CAAA,MAAA,CAAA,gBAAA,CAAA;;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,QAAA,CAAA,EAAA;AACA,QAAA,MAAA,CAAA,WAAA,CAAA,QAAA;AACA,OAFA,MAEA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,QAAA;AACA,aAAA,WAAA,GAAA,IAAA;AACA;;AACA,MAAA,IAAA,CAAA,QAAA,GAAA,CAAA,IAAA,CAAA,QAAA;AACA,KAfA;AAgBA,IAAA,oBAAA,EAAA,gCAAA;AAAA;;AACA,UAAA,eAAA,GAAA,KAAA,IAAA,CAAA,MAAA,CAAA,UAAA,EAAA,EAAA;AACA,eAAA,EAAA,CAAA,QAAA;AACA,OAFA,EAEA,GAFA,CAEA,UAAA,EAAA,EAAA;AACA,eAAA,EAAA,CAAA,EAAA;AACA,OAJA,CAAA;;AAKA,UAAA,eAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,aAAA,wBAAA,CAAA,eAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,cAAA,GAAA,CAAA,IAAA,CAAA,MAAA,EAAA;AACA,YAAA,KAAA,CAAA,KAAA,CAAA,iBAAA,EAAA,eAAA;;AACA,YAAA,OAAA,CAAA;AACA,cAAA,OAAA,EAAA,cADA;AAEA,cAAA,IAAA,EAAA;AAFA,aAAA,CAAA;AAIA;AACA,SARA;AASA,OAVA,MAUA;AACA,aAAA,WAAA,GAAA,KAAA;AACA,QAAA,OAAA,CAAA;AACA,UAAA,OAAA,EAAA,uCADA;AAEA,UAAA,IAAA,EAAA;AAFA,SAAA,CAAA;AAIA;AACA;AAvCA,IAVA;AAmDA,EAAA,OAAA,EAAA,mBAAA;AACA,QAAA,IAAA,GAAA,IAAA;AACA,SAAA,iBAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,MAAA,IAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,MAAA,IAAA,CAAA,yBAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,IAAA;;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,MAAA,EAAA;AACA,UAAA,IAAA,CAAA,IAAA,GAAA,IAAA,CAAA,IAAA,CAAA,GAAA,CAAA,UAAA,EAAA,EAAA;AACA,YAAA,EAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,QAAA,CAAA,EAAA,CAAA,EAAA,CAAA;AACA,mBAAA,EAAA;AACA,WAHA,CAAA;AAIA;AACA,OARA;AASA,KAXA;AAYA;AAjEA,CAAA","sourcesContent":["<template>\n    <div class=\"category-container\">\n        <div class=\"category-list m-b-25\" :class=\"{'not-selected': !is_selected}\">\n            <ul class=\"row\">\n                <li class=\"col col-md-4\" v-for=\"item in data\">\n                    <div class=\"category-item\" :class=\"{'active': item.favorite}\"\n                         @click=\"changeTab(item, $event)\">\n                        <img v-if=\"item.feature_image\" :src=\"item.feature_image\" alt=\"\">\n                        <img v-if=\"!item.feature_image\" src=\"../../../assets/images/default/product.png\" alt=\"\">\n                        <span>{{item.title}}</span>\n                    </div>\n                </li>\n            </ul>\n        </div>\n        <div class=\"category-action\">\n            <button v-if=\"button_content\" @click=\"saveFavoriteCategory\" class=\"save-category btn btn-warning btn-radius-border\">\n                {{button_content}}\n            </button>\n            <button v-else @click=\"saveFavoriteCategory\" class=\"save-category btn btn-warning btn-radius-border\">\n                Save\n            </button>\n        </div>\n    </div>\n</template>\n\n<script>\n    import {mapActions} from 'vuex'\n\n    export default {\n        name: \"category\",\n        props: [\"selected\", \"button_content\"],\n        data() {\n            return {\n                data: [],\n                current_selected: [],\n                is_selected: true,\n            }\n        },\n        methods: {\n            ...mapActions({\n                getSellerCategory: '$_Seller/getSellerCategory',\n                updateFavoriteCollection: '$_Seller/UPDATE_FAVORITE_COLLECTION',\n                getSellerFavoriteCategory: '$_Seller/GET_FAVORITE_CATEGORY',\n            }),\n            changeTab: function (item, event) {\n                let parent = $(event.target).parent('.category-item')\n                if (parent.hasClass('active')) {\n                    parent.removeClass('active')\n                } else {\n                    parent.addClass('active')\n                    this.is_selected = true\n                }\n                item.favorite = !item.favorite\n            },\n            saveFavoriteCategory: function () {\n                let currentSelected = this.data.filter(function (el) {\n                    return el.favorite\n                }).map(function (el) {\n                    return el.id\n                })\n                if (currentSelected.length > 0) {\n                    this.updateFavoriteCollection(currentSelected).then(res => {\n                        if (res.data.status) {\n                            this.$emit('change_category', currentSelected)\n                            $notify({\n                                content: \"Save success\",\n                                type: \"success\"\n                            })\n                        }\n                    })\n                } else {\n                    this.is_selected = false\n                    $notify({\n                        content: \"You must choose at least one category\",\n                        type: \"danger\"\n                    })\n                }\n            }\n        },\n        created: function () {\n            let that = this;\n            this.getSellerCategory().then(function (res) {\n                that.data = res.data.data\n                that.getSellerFavoriteCategory().then(function (res) {\n                    console.log(res.data);\n                    if (res.data.status) {\n                        that.data = that.data.map(function (el) {\n                            el.favorite = res.data.data.includes(el.id)\n                            return el\n                        })\n                    }\n                })\n            })\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n    @import 'src/assets/style';\n\n    .category-container {\n        .category-list {\n            background: #DCDCDC;\n            padding: 24px;\n            max-height: 510px;\n            overflow-y: scroll;\n            transition: all .4s;\n            &.not-selected {\n                border: solid 2px red;\n            }\n            ul {\n                padding: 0px;\n                list-style-type: none;\n                li {\n                    margin-top: 15px;\n                    margin-bottom: 15px;\n\n                    .category-item {\n                        background: white;\n                        display: flex;\n                        padding: 0px;\n                        border-radius: 10px;\n                        border: solid 3px transparent;\n                        &.active.category-item {\n                            border-color: $yellow;\n                        }\n                        &:hover {\n                            cursor: pointer;\n                        }\n                        img {\n                            max-height: 122px;\n                            max-width: 122px;\n                        }\n                        span {\n                            /*width: 60%;*/\n                            display: flex;\n                            justify-content: center;\n                            flex-direction: column;\n                            text-align: center;\n                            flex: 1;\n                            vertical-align: middle;\n                            padding: 10px;\n                        }\n                    }\n                }\n            }\n        }\n\n        .category-action {\n            .save-category {\n                min-width: 150px;\n                color: white\n            }\n        }\n    }\n</style>\n"],"sourceRoot":"src/modules/seller/_components"}]}