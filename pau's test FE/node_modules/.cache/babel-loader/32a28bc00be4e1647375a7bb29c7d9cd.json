{"remainingRequest":"/Volumes/Document/Pau's test/pau's test FE/node_modules/babel-loader/lib/index.js!/Volumes/Document/Pau's test/pau's test FE/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/Document/Pau's test/pau's test FE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Document/Pau's test/pau's test FE/src/modules/home/_components/product/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/Document/Pau's test/pau's test FE/src/modules/home/_components/product/index.vue","mtime":1554975488195},{"path":"/Volumes/Document/Pau's test/pau's test FE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Document/Pau's test/pau's test FE/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/Document/Pau's test/pau's test FE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Document/Pau's test/pau's test FE/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.array.find-index\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _JSON$stringify from \"/Volumes/Document/Pau's test/pau's test FE/node_modules/@babel/runtime-corejs2/core-js/json/stringify\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Volumes/Document/Pau's test/pau's test FE/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _Promise from \"/Volumes/Document/Pau's test/pau's test FE/node_modules/@babel/runtime-corejs2/core-js/promise\";\nimport _objectSpread from \"/Volumes/Document/Pau's test/pau's test FE/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapActions, mapGetters } from 'vuex';\nimport ImageZoomer from '@/modules/home/_components/partials/vue-pic-zoom';\nimport { Carousel, Slide } from '@/components/v-carousel';\nimport ProductBodyHtml from '../partials/product-body-html';\nimport BestSellingProduct from '../partials/product-best-selling';\nimport ListProductFilter from '../partials/list-product-filter';\nimport Error from '@/components/error-404';\nimport helper from '@/plugins/helper';\nimport mixin from '@/modules/home/_mixins/product-detail';\nimport breadcrumb from '../partials/collection-breadcrumb';\nimport ProductQuestion from '../partials/product-question';\nimport ListFlag from '../partials/list-flag';\nexport default {\n  name: 'ProductDetail',\n  mixins: [mixin],\n  components: {\n    ImageZoomer: ImageZoomer,\n    Carousel: Carousel,\n    Slide: Slide,\n    ProductBodyHtml: ProductBodyHtml,\n    BestSellingProduct: BestSellingProduct,\n    ListProductFilter: ListProductFilter,\n    Error: Error,\n    breadcrumb: breadcrumb,\n    ProductQuestion: ProductQuestion,\n    ListFlag: ListFlag\n  },\n  metaInfo: function metaInfo() {\n    return {\n      title: this.meta.title,\n      meta: [{\n        'name': 'og:type',\n        'vmid': 'og:type',\n        'property': 'og:type',\n        'content': 'product'\n      }, {\n        'name': 'og:url',\n        'vmid': 'og:url',\n        'property': 'og:url',\n        'content': this.meta.url\n      }, {\n        'name': 'og:title',\n        'vmid': 'og:title',\n        'property': 'og:title',\n        'content': this.meta.title\n      }, {\n        'name': 'og:description',\n        'vmid': 'og:description',\n        'property': 'og:description',\n        'content': this.meta.title\n      }, {\n        'name': 'og:image',\n        'vmid': 'og:image',\n        'property': 'og:image',\n        'content': this.meta.image\n      }]\n    };\n  },\n  data: function data() {\n    return {\n      isContentOverFlow: true,\n      listBestSelling: [],\n      data: null,\n      isLoading: false,\n      error: null,\n      isImportLoading: false,\n      meta: {\n        title: '',\n        url: '',\n        image: '',\n        description: '',\n        type: ''\n      }\n    };\n  },\n  methods: _objectSpread({}, mapActions({\n    getProductDetail: \"$_Home/GET_PRODUCT_DETAIL\",\n    getListBestSelling: \"$_Home/GET_LIST_BEST_SELLING\",\n    callImportProduct: \"$_Home/IMPORT_PRODUCT\"\n  }), mapGetters({\n    seller: '$_Seller/getSeller'\n  }), {\n    importProduct: function importProduct(product, event) {\n      var _this = this;\n\n      if (this.seller()) {\n        var id = product.id;\n        var target = $(event.target);\n        this.isImportLoading = true;\n        var defaultShop = this.seller().shops.filter(function (el, idx) {\n          return el.shop_default == 1;\n        });\n        var temp = {\n          \"product_id\": id,\n          \"shop_id\": defaultShop[0].id\n        };\n        this.callImportProduct(temp).then(function (res) {\n          if (res.data.status) {\n            _this.ProductInfo.isImported = true;\n          } else {\n            $notify({\n              content: 'import product fail',\n              type: 'danger'\n            });\n          }\n\n          _this.isImportLoading = false;\n        });\n      } else {\n        this.$router.push({\n          name: \"Login\"\n        });\n      }\n    },\n    removeImported: function removeImported(product) {\n      var _this2 = this;\n\n      var id = product.id;\n      var target = $(event.target);\n      this.isLoading = true;\n      var defaultShop = this.seller().shops.filter(function (el, idx) {\n        return el.shop_default == 1;\n      });\n      var temp = {\n        \"product_id\": id,\n        \"shop_id\": defaultShop[0].id\n      };\n      this.removeImportedProduct(temp).then(function (res) {\n        if (res.data.status) {\n          _this2.ProductInfo.isImported = false;\n        } else {\n          $notify({\n            content: 'Remove Imported Product fail',\n            type: 'danger'\n          });\n        }\n\n        _this2.isLoading = false;\n      });\n    },\n    saveToRecent: function saveToRecent(id) {\n      var ids = this.getLocalStore(\"lr\");\n\n      if (ids) {\n        ids = ids.filter(function (item) {\n          return item != id;\n        });\n\n        if (ids.length >= 50) {\n          ids.shift();\n        }\n      } else {\n        ids = [];\n      }\n\n      ids.push(id);\n      this.setLocalStore('lr', ids);\n    },\n    sticky_detail_bar: function sticky_detail_bar() {\n      var navbar = $(this.$refs.sticky);\n      var body = $(this.$refs.body);\n\n      if (navbar) {\n        var stickyNavTop = body.outerHeight();\n\n        var stickyNav = function stickyNav() {\n          var scrollTop = $(window).scrollTop();\n\n          if (scrollTop > stickyNavTop) {\n            navbar.addClass('sticky');\n          } else {\n            navbar.removeClass('sticky');\n          }\n        };\n\n        stickyNav();\n        $(window).scroll(function () {\n          stickyNav();\n        });\n      }\n    },\n    product_detail_init: function product_detail_init(id) {\n      var _this3 = this;\n\n      return new _Promise(\n      /*#__PURE__*/\n      function () {\n        var _ref = _asyncToGenerator(\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee(reslove, reject) {\n          var productValid, product, status, data, message, listBestSelling, _status, _data, _message;\n\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _this3.isLoading = true;\n                  productValid = null;\n                  _context.next = 4;\n                  return _this3.getProductDetail({\n                    id: id\n                  });\n\n                case 4:\n                  product = _context.sent;\n\n                  if (product) {\n                    status = product.status, data = product.data, message = product.message;\n\n                    if (status) {\n                      if (data) {\n                        _this3.saveToRecent(id);\n\n                        _this3.data = data;\n                        productValid = true;\n                      } else {\n                        _this3.error = \"Product Not Available\";\n                      }\n                    } else {\n                      _this3.error = 'Something went wrong !';\n                    }\n                  }\n\n                  _this3.isLoading = false;\n\n                  _this3.$nextTick(function () {\n                    setTimeout(function () {\n                      _this3.sticky_detail_bar();\n                    }, 600);\n                  });\n\n                  if (!productValid) {\n                    _context.next = 13;\n                    break;\n                  }\n\n                  _context.next = 11;\n                  return _this3.getListBestSelling(id);\n\n                case 11:\n                  listBestSelling = _context.sent;\n\n                  if (listBestSelling) {\n                    _status = listBestSelling.status, _data = listBestSelling.data, _message = listBestSelling.message;\n\n                    if (_status) {\n                      _this3.listBestSelling = _data;\n                    }\n                  }\n\n                case 13:\n                  reslove();\n\n                case 14:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function (_x, _x2) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    },\n    setMeta: function setMeta() {\n      if (this.error) {} else {\n        this.meta.title = this.data.title;\n        this.meta.url = \"\".concat(this.data.handle, \"-\").concat(this.data.id);\n        this.meta.image = this.data.images.length ? this.data.images[0].src : '';\n      }\n    }\n  }),\n  computed: _objectSpread({}, mapGetters({\n    collections: '$_Home/getCollections',\n    countries: '$_Home/getCountries',\n    base_url: 'getBaseUrl'\n  }), {\n    breadcrumb: function breadcrumb() {\n      if (this.data) {\n        var collection_id = this.data.collection_id;\n        var collection = helper.findDeep(this.collections, 'id', function (item, id) {\n          return id == collection_id;\n        });\n\n        if (collection) {\n          if (collection.level == 1) {\n            return [{\n              id: collection.id,\n              title: collection.title\n            }];\n          } else if (collection.level == 2) {\n            var title = [];\n            var level1 = helper.findDeep(this.collections, 'id', function (item, id) {\n              return id == collection.parent_id;\n            });\n\n            if (level1) {\n              title.push({\n                id: level1.id,\n                title: level1.title\n              });\n            }\n\n            title.push({\n              id: collection.id,\n              title: collection.title\n            });\n            return title;\n          } else if (collection.level == 3) {\n            var title = [];\n            var level2 = helper.findDeep(this.collections, 'id', function (item, id) {\n              return id == collection.parent_id;\n            });\n\n            if (level2) {\n              var level1 = helper.findDeep(this.collections, 'id', function (item, id) {\n                return id == level2.parent_id;\n              });\n\n              if (level1) {\n                title.push({\n                  id: level1.id,\n                  title: level1.title\n                });\n              }\n\n              title.push({\n                id: level2.id,\n                title: level2.title\n              });\n            }\n\n            title.push({\n              id: collection.id,\n              title: collection.title\n            });\n            return title;\n          }\n        }\n      }\n\n      return [];\n    },\n    productShippings: function productShippings() {\n      var _this4 = this;\n\n      if (this.data) {\n        var warehouses = JSON.parse(_JSON$stringify(this.data.warehouses));\n        warehouses = warehouses.map(function (item) {\n          item['shippings'] = [];\n          return item;\n        });\n\n        for (var key in this.data.shippings) {\n          if (this.data.shippings.hasOwnProperty(key)) {\n            var item = this.data.shippings[key];\n            item.forEach(function (shipping) {\n              var index = _.findIndex(warehouses, {\n                id: shipping.warehouse_id\n              });\n\n              if (index >= 0) {\n                if (shipping.rest_of_countries == 0) {\n                  var country_code = shipping.country_code;\n                  var split = country_code.split(',');\n                  shipping['countries'] = country_code.split(',').map(function (item) {\n                    var code = _.find(_this4.countries, {\n                      code: item\n                    });\n\n                    return code;\n                  }).filter(function (item) {\n                    return item != undefined;\n                  });\n                }\n\n                warehouses[index].shippings.push(shipping);\n              }\n            });\n          }\n        }\n\n        return warehouses.filter(function (item) {\n          return item.shippings.length;\n        });\n      }\n\n      return [];\n    }\n  }),\n  beforeRouteUpdate: function () {\n    var _beforeRouteUpdate = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee2(to, from, next) {\n      var id;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              id = this.getSlugId(to.fullPath);\n              _context2.next = 3;\n              return this.product_detail_init(id);\n\n            case 3:\n              this.setMeta();\n              next();\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function beforeRouteUpdate(_x3, _x4, _x5) {\n      return _beforeRouteUpdate.apply(this, arguments);\n    }\n\n    return beforeRouteUpdate;\n  }(),\n  created: function () {\n    var _created = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee3() {\n      var to, id;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              to = this.$route;\n              id = this.getSlugId(to.fullPath);\n              _context3.next = 4;\n              return this.product_detail_init(id);\n\n            case 4:\n              this.setMeta();\n\n            case 5:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function created() {\n      return _created.apply(this, arguments);\n    }\n\n    return created;\n  }()\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"product-detail\">\n        <transition name=\"fade\" mode=\"out-in\">\n            <div class=\"product-detail-container-loading\" v-if=\"isLoading\" key=\"is-loading\">\n                <i class=\"icon-loading\"></i>\n            </div>\n            <div class=\"product-detail-container\" v-else key=\"is-loaded\">\n                <template v-if=\"error\">\n                    <error></error>\n                </template>\n                <template v-else>\n                    <div class=\"product-breadcrumb\">\n                        <div class=\"container\">\n                            <div class=\"row\">\n                                <div class=\"col col-12\">\n                                    <breadcrumb :data=\"breadcrumb\"></breadcrumb>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"product-detail-sticky-bar\" ref=\"sticky\">\n                        <div class=\"container\">\n                            <div class=\"detail-sticky\">\n                                <div class=\"sticky-bar-item\">\n                                    <span class=\"product-name m-r-20\">\n                                        {{data.title}}\n                                    </span>\n                                    <span class=\"supplier-name\">\n                                        by <a href=\"\" class=\"text-warning\" v-if=\"data.supplier\">{{data.supplier.shop_name}}</a>\n                                    </span>\n                                </div>\n                                <div class=\"sticky-bar-item\">\n                                    <span class=\"product-price m-r-10\">{{data.price_max != data.price_min?data.price_max+ \"$\" +\" - \"+ data.price_min+ \"$\":data.price_min + \"$\"}}</span>\n                                </div>\n                                <div class=\"sticky-bar-item\">\n                                    <div class=\"import-actions\">\n                                        <button type=\"button\" v-if=\"!data.isImported\"\n                                                @click.stop.prevent=\"importProduct(data, $event)\"\n                                                :class=\"{'btn-importing': isImportLoading}\"\n                                                class=\"btn btn-warning btn-import-list btn-radius-border\">\n                                            <i class=\"icon-load fas fa-shopping-bag\"></i>\n                                            <div class=\"circle-loader\">\n                                                <div class=\"checkmark draw\"></div>\n                                            </div>\n                                            Add to Import List\n                                        </button>\n                                        <button v-if=\"data.isImported\"\n                                                @click.stop.prevent=\"removeImported(data, $event)\"\n                                                :class=\"{'btn-importing': isImportLoading}\"\n                                                class=\"btn black-button-style btn-radius-border\">\n                                            <i class=\"icon-load fas fa-trash\"></i>\n                                            <div class=\"circle-loader\">\n                                                <div class=\"checkmark draw\"></div>\n                                            </div>\n                                            Remove imported list\n                                        </button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"product-head\" ref=\"body\">\n                        <div class=\"container\">\n                            <div class=\"row\">\n                                <div class=\"col col-6\">\n                                    <div class=\"product-image\">\n                                        <div class=\"product-image-box\">\n                                            <image-zoomer :src=\"activeImage\"></image-zoomer>\n                                        </div>\n                                        <div class=\"product-image-carousel\">\n                                            <carousel v-bind=\"carousel\">\n                                                <slide v-for=\"(item , index) in data.images\" :key=\"`slide_${index}`\"\n                                                       :data-index=\"index\" @slideclick=\"onClickSlide\">\n                                                    <div class=\"item-slide\"\n                                                         :class=\"{ 'is-active' : activeSlide == index}\">\n                                                        <img :src=\"item.src\" alt=\"\">\n                                                    </div>\n                                                </slide>\n                                            </carousel>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class=\"col col-6\">\n                                    <div class=\"product-title\">\n                                        <h1>{{data.title}}</h1>\n                                    </div>\n                                    <div class=\"product-supplier\">\n                                        <span>By</span>\n                                        <strong>{{data.supplier.shop_name}}</strong>\n                                    </div>\n                                    <div class=\"product-short-description\">\n                                        <p>\n                                            {{ data.short_description}}\n                                        </p>\n                                    </div>\n                                    <div class=\"product-properties\">\n                                        <div class=\"item-property\" v-for=\"(property , index ) in form.properties\"\n                                             :key=\"`property_${index}`\">\n                                            <div class=\"item-property-title\">{{ property.name }}</div>\n                                            <div class=\"item-property-value\">\n                                                <div class=\"item-value\" v-for=\"(item, i) in property.data\"\n                                                     :key=\"`value_index${i}`\"\n                                                     :class=\"{ 'is-active' : activeOption({option : property.id , value : item.id }) }\">\n                                                    <template v-if=\"item.image && item.image.src\">\n                                                        <button @click.stop.prevent=\"selectOption(property.id , item.id , item.image )\"\n                                                                type=\"button\" class=\"btn btn-sm item-value-image\"\n                                                                :title=\"item.name\">\n                                                            <img :src=\"item.image.src\" alt=\"\">\n                                                        </button>\n                                                    </template>\n                                                    <template v-else>\n                                                        <button @click.stop.prevent=\"selectOption(property.id , item.id)\"\n                                                                type=\"button\" class=\"btn btn-sm item-value-text\">\n                                                            {{item.name}}\n                                                        </button>\n                                                    </template>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class=\"product-price\">\n                                        <div class=\"item-price-title\">Price</div>\n                                        <transition name=\"fade-transform\" mode=\"out-in\">\n                                            <div class=\"item-price-value\" v-if=\"selectedProduct.is_selected\"\n                                                 key=\"price_1\">\n                                                {{selectedProduct.price }}\n                                            </div>\n                                            <div class=\"item-price-value\" v-else key=\"price_2\">\n                                                {{selectedProduct.price }}\n                                            </div>\n                                        </transition>\n                                    </div>\n                                    <div class=\"product-inventory\">\n                                        <transition name=\"fade-transform\" mode=\"out-in\">\n                                            <div v-if=\"selectedProduct.is_selected\" key=\"inventory_1\">\n                                                <span>Availability :</span> <strong>{{selectedProduct.inventory |\n                                                number_format }} in stock</strong>\n                                            </div>\n                                            <div v-else key=\"inventory_2\">\n                                                <span>Availability :</span> <strong>{{data.inventory | number_format }}\n                                                for {{data.variants.length}} variants in stock</strong>\n                                            </div>\n                                        </transition>\n                                    </div>\n                                    <div class=\"product-actions\">\n                                        <button type=\"button\" v-if=\"!data.isImported\"\n                                                @click.stop.prevent=\"importProduct(data, $event)\"\n                                                :class=\"{'btn-importing': isImportLoading}\"\n                                                class=\"btn btn-warning btn-import-list\">\n                                            <i class=\"icon-load fas fa-shopping-bag\"></i>\n                                            <div class=\"circle-loader\">\n                                                <div class=\"checkmark draw\"></div>\n                                            </div>\n                                            Add to Import List\n                                        </button>\n                                        <button v-if=\"data.isImported\"\n                                                @click.stop.prevent=\"removeImported(data, $event)\"\n                                                :class=\"{'btn-importing': isImportLoading}\"\n                                                class=\"btn black-button-style\">\n                                            <i class=\"icon-load fas fa-trash\"></i>\n                                            <div class=\"circle-loader\">\n                                                <div class=\"checkmark draw\"></div>\n                                            </div>\n                                            Remove imported list\n                                        </button>\n                                    </div>\n                                    <hr>\n                                    <div class=\"product-shipping\">\n                                        <div class=\"item-shipping\">\n                                            <div class=\"item-title\">\n                                                READY TO SHIP IN\n                                            </div>\n                                            <div class=\"item-value\">\n                                                {{data.process_time}} days\n                                            </div>\n                                        </div>\n                                        <div class=\"item-shipping\">\n                                            <div class=\"item-title\">\n                                                RETURN POLICY\n                                            </div>\n                                            <div class=\"item-value\">\n                                                {{data.return_policy}} days\n                                                <p>\n                                                    Returns accepted if product not as described, buyer pays return\n                                                    shipping fee; or keep the product & agree refund with seller. <a\n                                                        href=\"#\">View details</a>\n                                                </p>\n\n                                            </div>\n                                        </div>\n                                        <div class=\"item-shipping-methods\">\n                                            <div class=\"item-title\">\n                                                SHIPPING TIME\n                                            </div>\n                                            <div class=\"list-shipping-country\">\n                                                <div class=\"item-warehouse\">\n                                                    <div class=\"item-warehouse-shipping item-warehouse-shipping-head\">\n                                                        <div class=\"item-country\">\n                                                            &nbsp;\n                                                        </div>\n                                                        <div class=\"item-shipping-cost\">\n                                                            Shipping Cost\n                                                        </div>\n                                                        <div class=\"item-shipping-fee\">\n                                                            Incremental Fee\n                                                        </div>\n                                                        <div class=\"item-shipping-from\">\n                                                            From\n                                                        </div>\n                                                        <div class=\"item-shipping-to\">\n                                                            To\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                <div class=\"item-warehouse\"\n                                                     v-for=\"(warehouse , warehouse_index ) in productShippings\"\n                                                     :key=\"`warehouse_${warehouse_index}`\">\n                                                    <div class=\"item-warehouse-name\">\n                                                        {{warehouse.country_name}}\n                                                    </div>\n                                                    <div class=\"item-warehouse-shipping\"\n                                                         v-for=\"(shipping , index ) in warehouse.shippings\"\n                                                         :key=\"`shipping_${index}`\">\n                                                        <div class=\"item-country\">\n                                                            <template v-if=\"shipping.rest_of_countries\">\n                                                                Worldwide\n                                                            </template>\n                                                            <template v-else>\n                                                                <list-flag v-model=\"shipping.countries\"></list-flag>\n                                                            </template>\n                                                        </div>\n                                                        <div class=\"item-shipping-cost\">\n                                                            ${{shipping.price | number_format}}\n                                                        </div>\n                                                        <div class=\"item-shipping-fee\">\n                                                            ${{shipping.incremental_fee | number_format}}\n                                                        </div>\n                                                        <div class=\"item-shipping-from\">\n                                                            {{shipping.estimate_time_from}}\n                                                        </div>\n                                                        <div class=\"item-shipping-to\">\n                                                            {{shipping.estimate_time_to}}\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                <div class=\"item-warehouse\">\n                                                    <div class=\"item-warehouse-except\">\n                                                        Do not ship to {{ data.except_shipping}}\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"product-body\">\n                        <div class=\"container\">\n                            <div class=\"detail-description row\">\n                                <div class=\"col col-8\">\n                                    <div class=\"card description-info\">\n                                        <div class=\"m-b-15\">\n                                            <div class=\"default-title\">\n                                                <h4>Description</h4>\n                                            </div>\n                                        </div>\n                                        <product-body-html :data=\"data.body_html\"></product-body-html>\n                                    </div>\n\n                                    <!--// not in this version-->\n                                    <!--<div class=\"card description-info m-t-20\">-->\n                                    <!--<div class=\"m-b-15\">-->\n                                    <!--<div class=\"default-title\">-->\n                                    <!--<h4 >Question</h4>-->\n                                    <!--</div>-->\n                                    <!--</div>-->\n                                    <!--<div class=\"question-body\">-->\n                                    <!--<product-question :product-id=\"data.id\"></product-question>-->\n                                    <!--</div>-->\n                                    <!--</div>-->\n                                    <!--//-->\n\n                                </div>\n                                <div class=\"col col-4\" v-if=\"listBestSelling.length\">\n                                    <div class=\"card best-selling\">\n                                        <div class=\"m-b-15\">\n                                            <div class=\"default-title\">\n                                                <h4>Best Selling</h4>\n                                            </div>\n                                        </div>\n                                        <div>\n                                            <ul class=\"list-product\">\n                                                <li class=\"product-item\" v-for=\"(item , index) in listBestSelling\"\n                                                    :key=\"`selling_${index}`\">\n                                                    <router-link class=\"product-image\"\n                                                                 :to=\"{ name : 'ProductDetail' , params: { id : `${item.handle}-${item.id}`}}\">\n                                                        <img v-if=\"item.image\" :src=\"item.image\" alt=\"\">\n                                                        <img v-else src=\"@/assets/images/default/product.png\" alt=\"\">\n                                                    </router-link>\n                                                    <div class=\"product-content\">\n                                                        <router-link v-line-clamp:20=\"2\" class=\"product-title\"\n                                                                     :to=\"{ name : 'ProductDetail' , params: { id : `${item.handle}-${item.id}`}}\">\n                                                            {{item.title}}\n                                                        </router-link>\n                                                        <div class=\"product-supplier-and-price\">\n                                                            <div class=\"product-supplier\">\n                                                                <p><span>By</span><a href=\"\">{{item.shop_name}}</a></p>\n                                                            </div>\n                                                            <div class=\"product-price\">\n                                                                <span v-if=\"item.price_min === item.price_max\">${{item.price_max | number_format}}</span>\n                                                                <span v-else>${{item.price_min | number_format}} - ${{item.price_max | number_format}}</span>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </li>\n                                            </ul>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"product-foot\">\n                        <div class=\"container\">\n                            <div class=\"row\">\n                                <div class=\"col col-12\">\n                                    <list-product-filter title=\"Recent Viewed Product\" mode=\"recent\" :limit=\"5\"\n                                                         col=\"col col-20 m-b-20\"></list-product-filter>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </template>\n            </div>\n        </transition>\n    </div>\n</template>\n<script>\n    import {mapActions, mapGetters} from 'vuex'\n    import ImageZoomer from '@/modules/home/_components/partials/vue-pic-zoom'\n    import {Carousel, Slide} from '@/components/v-carousel'\n    import ProductBodyHtml from '../partials/product-body-html'\n    import BestSellingProduct from '../partials/product-best-selling'\n    import ListProductFilter from '../partials/list-product-filter'\n    import Error from '@/components/error-404'\n    import helper from '@/plugins/helper'\n    import mixin from '@/modules/home/_mixins/product-detail'\n    import breadcrumb from '../partials/collection-breadcrumb'\n    import ProductQuestion from '../partials/product-question'\n    import ListFlag from '../partials/list-flag'\n\n    export default {\n        name: 'ProductDetail',\n        mixins: [mixin],\n        components: {\n            ImageZoomer,\n            Carousel,\n            Slide,\n            ProductBodyHtml,\n            BestSellingProduct,\n            ListProductFilter,\n            Error,\n            breadcrumb,\n            ProductQuestion,\n            ListFlag\n        },\n        metaInfo() {\n            return {\n                title: this.meta.title,\n                meta: [\n                    {\n                        'name': 'og:type',\n                        'vmid': 'og:type',\n                        'property': 'og:type',\n                        'content': 'product'\n                    },\n                    {\n                        'name': 'og:url',\n                        'vmid': 'og:url',\n                        'property': 'og:url',\n                        'content': this.meta.url\n                    },\n                    {\n                        'name': 'og:title',\n                        'vmid': 'og:title',\n                        'property': 'og:title',\n                        'content': this.meta.title\n                    },\n                    {\n                        'name': 'og:description',\n                        'vmid': 'og:description',\n                        'property': 'og:description',\n                        'content': this.meta.title\n                    },\n                    {\n                        'name': 'og:image',\n                        'vmid': 'og:image',\n                        'property': 'og:image',\n                        'content': this.meta.image\n                    },\n                ]\n            }\n        },\n        data() {\n            return {\n                isContentOverFlow: true,\n                listBestSelling: [],\n                data: null,\n                isLoading: false,\n                error: null,\n                isImportLoading: false,\n                meta: {\n                    title: '',\n                    url: '',\n                    image: '',\n                    description: '',\n                    type: ''\n                }\n            }\n        },\n        methods: {\n            ...mapActions({\n                getProductDetail: \"$_Home/GET_PRODUCT_DETAIL\",\n                getListBestSelling: \"$_Home/GET_LIST_BEST_SELLING\",\n                callImportProduct: \"$_Home/IMPORT_PRODUCT\"\n            }),\n            ...mapGetters({\n                seller: '$_Seller/getSeller',\n            }),\n            importProduct(product, event) {\n                if (this.seller()) {\n                    let id = product.id\n                    let target = $(event.target)\n                    this.isImportLoading = true\n                    let defaultShop = this.seller().shops.filter(function (el, idx) {\n                        return el.shop_default == 1\n                    });\n                    let temp = {\n                        \"product_id\": id,\n                        \"shop_id\": defaultShop[0].id\n                    }\n                    this.callImportProduct(temp).then(res => {\n                        if (res.data.status) {\n                            this.ProductInfo.isImported = true\n                        } else {\n                            $notify({\n                                content: 'import product fail',\n                                type: 'danger'\n                            })\n                        }\n                        this.isImportLoading = false\n                    })\n                } else {\n                    this.$router.push({\n                        name: \"Login\"\n                    })\n                }\n            },\n            removeImported(product) {\n                let id = product.id\n                let target = $(event.target)\n                this.isLoading = true\n                let defaultShop = this.seller().shops.filter(function (el, idx) {\n                    return el.shop_default == 1\n                });\n                let temp = {\n                    \"product_id\": id,\n                    \"shop_id\": defaultShop[0].id\n                }\n                this.removeImportedProduct(temp).then(res => {\n                    if (res.data.status) {\n                        this.ProductInfo.isImported = false\n                    } else {\n                        $notify({\n                            content: 'Remove Imported Product fail',\n                            type: 'danger'\n                        })\n                    }\n                    this.isLoading = false\n                })\n            },\n            saveToRecent: function (id) {\n                let ids = this.getLocalStore(\"lr\")\n                if (ids) {\n                    ids = ids.filter((item) => {\n                        return item != id\n                    })\n                    if (ids.length >= 50) {\n                        ids.shift()\n                    }\n                } else {\n                    ids = []\n                }\n                ids.push(id)\n                this.setLocalStore('lr', ids)\n            },\n            sticky_detail_bar() {\n                var navbar = $(this.$refs.sticky)\n                var body = $(this.$refs.body)\n                if (navbar) {\n                    var stickyNavTop = body.outerHeight()\n                    var stickyNav = function () {\n                        var scrollTop = $(window).scrollTop();\n                        if (scrollTop > stickyNavTop) {\n                            navbar.addClass('sticky');\n                        } else {\n                            navbar.removeClass('sticky');\n                        }\n                    };\n                    stickyNav();\n                    $(window).scroll(function () {\n                        stickyNav();\n                    });\n                }\n            },\n            product_detail_init(id) {\n                return new Promise(async (reslove, reject) => {\n                    this.isLoading = true\n                    var productValid = null\n                    var product = await this.getProductDetail({id})\n                    if (product) {\n                        let {status, data, message} = product\n                        if (status) {\n                            if (data) {\n                                this.saveToRecent(id)\n                                this.data = data\n                                productValid = true\n\n                            } else {\n                                this.error = `Product Not Available`\n                            }\n                        } else {\n                            this.error = 'Something went wrong !'\n                        }\n                    }\n                    this.isLoading = false\n                    this.$nextTick(() => {\n                        setTimeout(() => {\n                            this.sticky_detail_bar()\n                        }, 600);\n                    })\n\n                    if (productValid) {\n                        let listBestSelling = await this.getListBestSelling(id)\n                        if (listBestSelling) {\n                            let {status, data, message} = listBestSelling\n                            if (status) {\n                                this.listBestSelling = data\n                            }\n                        }\n                    }\n                    reslove()\n                })\n            },\n            setMeta() {\n                if (this.error) {\n\n                } else {\n                    this.meta.title = this.data.title\n                    this.meta.url = `${this.data.handle}-${this.data.id}`\n                    this.meta.image = this.data.images.length ? this.data.images[0].src : ''\n                }\n            },\n        },\n        computed: {\n            ...mapGetters({\n                collections: '$_Home/getCollections',\n                countries: '$_Home/getCountries',\n                base_url: 'getBaseUrl'\n            }),\n            breadcrumb() {\n                if (this.data) {\n                    var collection_id = this.data.collection_id\n                    var collection = helper.findDeep(this.collections, 'id', (item, id) => id == collection_id)\n                    if (collection) {\n                        if (collection.level == 1) {\n                            return [\n                                {\n                                    id: collection.id,\n                                    title: collection.title,\n                                }\n                            ]\n                        } else if (collection.level == 2) {\n                            var title = []\n                            var level1 = helper.findDeep(this.collections, 'id', (item, id) => id == collection.parent_id)\n                            if (level1) {\n                                title.push({\n                                    id: level1.id,\n                                    title: level1.title\n                                })\n                            }\n                            title.push({\n                                id: collection.id,\n                                title: collection.title\n                            })\n                            return title\n                        } else if (collection.level == 3) {\n                            var title = []\n                            var level2 = helper.findDeep(this.collections, 'id', (item, id) => id == collection.parent_id)\n                            if (level2) {\n                                var level1 = helper.findDeep(this.collections, 'id', (item, id) => id == level2.parent_id)\n                                if (level1) {\n                                    title.push({\n                                        id: level1.id,\n                                        title: level1.title\n                                    })\n                                }\n                                title.push({\n                                    id: level2.id,\n                                    title: level2.title\n                                })\n                            }\n                            title.push({\n                                id: collection.id,\n                                title: collection.title\n                            })\n                            return title\n                        }\n\n                    }\n                }\n                return []\n            },\n            productShippings() {\n                if (this.data) {\n                    var warehouses = JSON.parse(JSON.stringify(this.data.warehouses))\n                    warehouses = warehouses.map((item) => {\n                        item['shippings'] = []\n                        return item\n                    })\n                    for (var key in this.data.shippings) {\n                        if (this.data.shippings.hasOwnProperty(key)) {\n                            const item = this.data.shippings[key]\n                            item.forEach((shipping) => {\n                                var index = _.findIndex(warehouses, {id: shipping.warehouse_id})\n                                if (index >= 0) {\n                                    if (shipping.rest_of_countries == 0) {\n                                        var country_code = shipping.country_code;\n                                        var split = country_code.split(',')\n                                        shipping['countries'] = country_code.split(',').map((item) => {\n                                            var code = _.find(this.countries, {code: item})\n                                            return code\n                                        }).filter(item => item != undefined)\n                                    }\n                                    warehouses[index].shippings.push(shipping)\n                                }\n                            })\n                        }\n                    }\n                    return warehouses.filter((item) => {\n                        return item.shippings.length\n                    })\n                }\n                return []\n            }\n        },\n        beforeRouteUpdate: async function (to, from, next) {\n            let id = this.getSlugId(to.fullPath);\n            await this.product_detail_init(id)\n            this.setMeta()\n            next()\n        },\n        created: async function () {\n            let to = this.$route\n            let id = this.getSlugId(to.fullPath);\n            await this.product_detail_init(id)\n            this.setMeta()\n        },\n    }\n</script>\n<style lang=\"scss\" scoped>\n    @import 'src/assets/style';\n\n    $border-color: #eee;\n    .product-detail-container {\n        &-loading {\n            min-height: 500px;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            .icon-loading {\n                height: 60px;\n                width: 60px;\n                background: $yellow;\n            }\n        }\n        .overflow-text {\n            display: block;\n            display: -webkit-box;\n            -webkit-box-orient: vertical;\n            overflow: hidden;\n            text-overflow: ellipsis;\n        }\n        .product-detail-sticky-bar {\n            opacity: 0;\n            background: white;\n            transition: all 0s;\n            border-bottom: solid 1px lightgray;\n            box-shadow: 0px 1px 7px 0px rgba(0, 0, 0, 0.2);\n            .detail-sticky {\n                display: flex;\n                justify-content: space-between;\n                flex-flow: row wrap;\n                height: 60px;\n                .sticky-bar-item {\n                    line-height: 60px;\n                    display: flex;\n                    .product-name {\n                        font-size: 22px;\n                        max-width: 450px;\n                        /*flex: 1;*/\n                        @extend .overflow-text;\n                        -webkit-line-clamp: 1;\n\n                    }\n                    .supplier-name {\n                        font-size: $default-font-size;\n                    }\n                    .product-price {\n                        font-weight: bold;\n                        font-size: 22px;\n                    }\n                    .product-old-price {\n                        color: lightgray;\n                        font-size: $default-font-size;\n                        text-decoration: line-through;\n                    }\n                    .product-old-price, .product-price {\n                        vertical-align: middle;\n                    }\n                    .import-actions {\n                        .btn-importing {\n                            .icon-load {\n                                display: none;\n                            }\n                            .circle-loader {\n                                display: inline-block;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        .detail-description {\n            div.layout-item:nth-child(1) {\n                padding-right: 10px;\n            }\n            div.layout-item:nth-child(2) {\n                padding-left: 10px;\n            }\n            .description-info {\n                padding: 40px 40px 20px;\n            }\n            .best-selling {\n                padding: 40px 30px 30px;\n            }\n            .best-selling {\n                .list-product {\n                    padding: 0px;\n                    .product {\n                        &-item {\n                            display: flex;\n                            flex-direction: row;\n                            margin-bottom: 15px;\n                            width: 100%;\n                            overflow: hidden;\n                            a {\n                                text-decoration: none;\n                            }\n                            &:last-child {\n                                margin-bottom: 0;\n                            }\n                        }\n                        &-image {\n                            width: 60px;\n                            height: 60px;\n                            flex: 60px auto;\n                            border-radius: 3px;\n                            overflow: hidden;\n                            display: flex;\n                            justify-content: center;\n                            align-items: center;\n                            img {\n                                max-width: 100%;\n                                max-height: 100%;\n                            }\n                        }\n                        &-content {\n                            flex: 1 1;\n                            padding-left: 5px;\n                            overflow: hidden;\n                        }\n                        &-title {\n                            color: $text-color;\n                            font-size: 13px;\n                            display: inline-block;\n                            font-weight: bold;\n                            &:hover {\n                                color: $yellow;\n                            }\n                        }\n                        &-supplier-and-price {\n                            display: flex;\n                            flex-direction: row;\n                            flex-wrap: wrap;\n                        }\n                        &-supplier {\n                            color: $text-color;\n                            flex: 1 1;\n                            a {\n                                color: $yellow;\n                                margin-left: 5px;\n                            }\n                        }\n                        &-price {\n                            font-size: 17px;\n                            font-weight: bold;\n                            text-align: right;\n                            flex: 1 1;\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    .sticky {\n        position: fixed;\n        width: 100%;\n        left: 0;\n        top: 0;\n        z-index: 100;\n        opacity: 1 !important;\n        transition: all .4s !important;\n    }\n\n    .app-product-detail {\n\n    }\n\n    .product {\n        &-breadcrumb {\n            padding: 15px 0;\n            background: #f2f2f2;\n        }\n        &-head {\n            background: #fff;\n            padding: 20px 0;\n        }\n        &-body {\n            background: #F2F2F2;\n            padding: 30px 0;\n        }\n        &-foot {\n            background: #fff;\n            padding: 30px 0;\n        }\n        &-image {\n            position: relative;\n            &-box {\n                border: 1px solid $border-color;\n                display: flex;\n                justify-content: center;\n            }\n            &-carousel {\n                width: 100%;\n                height: 100px;\n                overflow: hidden;\n                padding: 15px 0px;\n\n                .item-slide {\n                    width: 70px;\n                    height: 70px;\n                    border: 2px solid $border-color;\n                    display: flex;\n                    justify-content: center;\n                    align-items: center;\n                    transition: all 0.3s ease;\n                    img {\n                        max-width: 100%;\n                        max-height: 100%;\n                    }\n                    &.is-active {\n                        border-color: $yellow;\n                    }\n                }\n            }\n        }\n        &-title {\n            margin-bottom: 5px;\n            h1 {\n                font-size: 25px;\n                font-weight: 500;\n                margin: 0;\n            }\n        }\n        &-supplier {\n            span, strong {\n                display: inline-block;\n            }\n            strong {\n                color: $yellow;\n                margin-left: 5px;\n            }\n        }\n        &-properties {\n            .item-property {\n                margin-bottom: 20px;\n                &-title {\n                    font-size: 16px;\n                    font-weight: 500;\n                    margin-bottom: 5px;\n                    line-height: 16px;\n                    text-transform: uppercase;\n                }\n                &-value {\n                    display: flex;\n                    flex-direction: row;\n                    flex-wrap: wrap;\n                    margin: 0 -7px;\n                    .item-value {\n                        padding: 0 7px;\n                        margin: 0 0 7px;\n                        .btn {\n                            &:focus {\n                                outline: none;\n                                box-shadow: none;\n                            }\n                        }\n                        &.is-active {\n                            .item-value {\n                                &-image {\n                                    border-color: $yellow;\n                                }\n                                &-text {\n                                    border-color: $yellow;\n                                }\n                            }\n                        }\n                        &:first-child {\n                            margin-left: 0;\n                        }\n                        &-image {\n                            padding: 0;\n                            height: 50px;\n                            width: 50px;\n                            min-width: 50px;\n                            border-radius: 8px;\n                            border: 2px solid #ddd;\n                            overflow: hidden;\n                            img {\n                                max-width: 100%;\n                                max-height: 100%;\n                            }\n                        }\n                        &-text {\n                            min-height: 28px;\n                            padding: 0 7px;\n                            min-width: 60px;\n                            overflow: hidden;\n                            border: 1px solid #ddd;\n                            border-radius: 19px;\n                        }\n                    }\n                }\n            }\n        }\n        &-price {\n            .item-price {\n                &-title {\n                    font-size: 16px;\n                    font-weight: bold;\n                    margin-bottom: 5px;\n                    line-height: 16px;\n                    text-transform: uppercase;\n                }\n                &-value {\n                    font-size: 40px;\n                    font-weight: 500;\n                    margin-bottom: 5px;\n                    line-height: 40px;\n                }\n            }\n        }\n        &-actions {\n            margin-top: 30px;\n            display: flex;\n            flex-wrap: nowrap;\n            flex-direction: row;\n            .btn {\n                padding: 0 25px;\n                border-radius: 25px;\n                height: 42px;\n                line-height: 42px;\n                align-items: center;\n                justify-content: center;\n                display: inline-flex;\n                // flex: 1 1;\n                margin: 0 5px 5px 5px;\n                font-size: 14px;\n                font-weight: 500;\n                &.btn-importing {\n                    .icon-load {\n                        display: none;\n                    }\n                    .circle-loader {\n                        display: inline-block;\n                    }\n                }\n                &-import-list {\n                    color: #fff;\n                    background: $yellow;\n                }\n                &-view-detail {\n                    border: 1px solid #ccc;\n                }\n            }\n        }\n        &-return-policy {\n            display: flex;\n            flex-wrap: nowrap;\n            flex-direction: row;\n            .return-policy {\n                &-title {\n                    font-size: 14px;\n                    text-transform: uppercase;\n                    white-space: nowrap;\n                    font-weight: 500;\n                }\n                &-value {\n                    padding-left: 15px;\n                    strong {\n                        font-size: 14px;\n                        font-weight: 500;\n                    }\n                    p {\n                        font-size: 12px;\n                    }\n                }\n            }\n        }\n        &-shipping {\n            .item-shipping {\n                display: flex;\n                flex-wrap: nowrap;\n                flex-direction: row;\n                margin-bottom: 10px;\n                .item-title {\n                    font-weight: bold;\n                    width: 160px;\n                }\n                .item-value {\n                    width: calc(100% - 160px);\n                    font-weight: bold;\n                    a {\n                        color: $yellow;\n                        &:hover {\n                            color: $yellow;\n                        }\n                    }\n                }\n                &-methods {\n                    .item-title {\n                        width: 100%;\n                        font-weight: bold;\n                        margin-bottom: 10px;\n                    }\n                    .list-shipping-country {\n                        border: 1px solid #eee;\n                        .item-warehouse {\n                            &-name {\n                                font-size: 14px;\n                                text-transform: uppercase;\n                                padding: 10px;\n                                font-weight: bold;\n                                text-decoration: underline;\n                                color: $yellow;\n                                background: #f2f2f2;\n                                border-bottom: 1px solid #eee;\n                            }\n                            &-shipping {\n                                display: flex;\n                                flex-direction: row;\n                                flex-wrap: nowrap;\n                                padding: 10px 10px 10px 15px;\n                                border-bottom: 1px solid #eee;\n                                &-head {\n                                    font-weight: bold;\n                                    margin: 0;\n                                }\n                                .item-shipping-cost, .item-shipping-fee, .item-shipping-from, .item-shipping-to {\n                                    width: 20%;\n                                    overflow: hidden;\n                                }\n                                .item-shipping-cost, .item-shipping-fee, .item-shipping-from, .item-shipping-to {\n                                    text-align: center;\n                                }\n                                .item-country {\n                                    width: 20%;\n                                }\n                            }\n                            &-except {\n                                padding: 10px;\n                                text-align: center;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n</style>\n"],"sourceRoot":"src/modules/home/_components/product"}]}